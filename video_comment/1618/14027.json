{"type":"video_comment","id":14027,"parentType":"video","parentId":1618,"uid":20551,"contents":"<center><b>目录服务器</b></center><br>\nTor必须知道有哪些可用的中继节点，才能建立代理链路。世界上一共有6000多个公开的Tor中继节点，这些节点的信息保存在所谓的【目录服务器】里。Tor客户端启动时，会向目录服务器发起请求，获得一份所有tor中继的列表，然后从这个列表中随机选取三个节点建立链路。目录服务器是Tor匿名网络的基础。<br>\n<br>\n全世界一共有10个Tor目录服务器，这10个目录服务器的IP直接硬编码到Tor程序里。Tor启动时，就根据程序里编码的IP，与目录服务器建立通讯。Tor有容错和校验机制。如果某个目录服务器被控制，发布蜜罐节点，Tor可以用其它服务器返回的结果比对，进行多数表决，从而排除恶意目录服务器的结果。<br>\n<br>\n目录服务器是Tor的阿喀琉斯之蹱。因为Tor使用多数表决机制，所以只要控制了10个服务器中的6个，就可以控制整个Tor网络。因此在Tor的设计中，10个目录服务器分布在不同的国家，并且，每一个服务器都由不同的非营利组织/大学运营。据我查证，这10个目录服务器的IP地址和位置分别是：<br>\n<br>\n<ol><li>154.35.32.5 - 美国</li><li>208.83.223.34 - 美国</li><li>199.254.238.52 - 美国</li><li>128.31.0.34 - 美国（麻省理工学院）</li><li>193.23.244.244 - 德国</li><li>131.188.40.189 - 德国（埃尔朗根-纽伦堡大学）</li><li>82.94.251.203 - 荷兰</li><li>194.109.206.212 - 荷兰</li><li>171.25.193.9 - 瑞典</li><li>86.59.21.38 - 奥地利</li></ol><br>\n<br>\nRef:<br>\n<a href=\"https://jordan-wright.com/blog/2014/12/19/what-happens-if-tor-directory-authorities-are-seized/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://jordan-wright.com/blog/2014/12/19/what-happens-if-tor-directory-authorities-are-seized/</a><br>\n--------------------------<br>\n更新：第三代Tor协议不需要客户端验证列表。在第三代协议中，10个目录服务器互相交换自己的列表，并给其它服务器的列表签名。所以Tor客户端不用再向每个目录服务器请求列表。客户端只要向一个服务器请求列表，并验证上面的签名即可。","date":"2020-03-29","agreeCount":3,"discussionCount":0}