{"type":"video_comment","id":18545,"parentType":"video","parentId":1998,"uid":18160,"contents":"https://pincong.rocks/video/1892<br>\n这个帖子 讲解了 rust编程&nbsp; 实现 用户态的 Linux mac ios Android 下的wireguard<br>\n<br>\n我在这里讲解下windows下怎么办。。。<br>\n参考开源项目<br>\nhttps://github.com/songgao/water<br>\n<br>\n其他系统，就不累述了<br>\n直接看 windows<br>\nhttps://github.com/songgao/water/blob/master/syscalls_windows.go<br>\n重点是 openDev 这个函数，<br>\nconfig.PlatformSpecificParams.ComponentID<br>\nconfig.PlatformSpecificParams.InterfaceName<br>\n在 https://github.com/songgao/water/blob/master/params_windows.go&nbsp; <br>\n有需要的自己修改<br>\n<br>\nsyscall.CreateFile 相当于 你打开了这个虚拟网卡。。。<br>\n<br>\n可以自己阅读理解，反正就是注册表操作了<br>\n<br>\n懒的同学，可以不读，直接照抄。。。<br>\n<br>\n<br>\n<br>\n<br>\n自己写VPN，其实真的不难。。。<br>\n<br>\n通过刚才的操作就可以建立虚拟网卡。。。<br>\n再像普通的文件读写一样操作这个虚拟网卡<br>\n1.从虚拟网卡读取数据<br>\n2.封装数据以后，用物理网卡发送<br>\n3.从物理网卡接收网络数据<br>\n4.解封装以后，回写到虚拟网卡<br>\n<br>\n这里，当然可以把数据写到tor发送<br>\n也可以写到v2ray发送<br>\n也可以写到shadowsocks发送<br>\n也可以自己写协议<br>\n<br>\n就像wireguard自己定了一个协议。。。","date":"2020-05-10","agreeCount":0,"discussionCount":0}