{"type":"answer","id":416,"parentType":"question","parentId":11,"uid":15,"contents":"建网站时，暴露信息的地方多了，以下暴露的方式和防范方法：<br>\n<ol><li><b>网站的联系方式</b>：留 QQ 的、微信的、国内邮箱的纯粹是找死。国外联系邮箱（如 ProtonMail）可以有，但是最好设置拒收国内邮箱的邮件，否则邮件头会泄露信息。对了，自动显示外部图片的功能一定要关掉</li><li><b>WHOIS 记录</b>：不开 WHOIS 信息保护还留下真实手机号码、地址的也是秒查</li><li>使用国内域名注册商或解析服务的，注册人的信息哪个查不到？</li><li>服务器一定要在国外，如果是 VPS 不要用国内银行卡、微信、支付宝等，最好支持虚拟币支付，比如比特币，最好通过国外大交易所或 OTC 购买，如果你用的是比特币钱包软件，汇款的时候一定要开代理，要不然照样查出来</li><li><b>源站 IP 地址</b>：一定要保密，一定要使用抗 DDoS 的国外 CDN 比如 Cloudflare 之类，查不出 IP 地址就没有办法用 SSH 连你的服务器，没法联系你的提供商关闭服务器，也没法 DDoS</li><li><b>全网扫描 80、443 端口</b>，扫描你的服务器源站 IP 地址（IPv4 完全没问题，IPv6 比较困难）：可以利用 Apache/Nginx 的虚拟主机（Virtual Host）功能，不仅需要你的服务器 IP，还需要 HTTP 的 Host 字段匹配，你才能看到内容，否则看到的是 HTTP 错误页面。但这方法不是 100% 靠谱，万一扫描的时候带上 Host 字段怎么办？虽然特征很明显，不知会给多少别的服务器留下日志</li><li>如果你可以用防火墙，就在源站服务器上设置非 CDN 的 IP 禁止访问 80、443 端口。一般你用的 CDN 有一个使用的 IP 列表，比如 Cloudflare 的在<a href=\"https://www.cloudflare.com/ips/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">这里</a>，这样就能彻底杜绝全网扫描 80、443 端口</li><li>如果肉身在国内，一定要通过代理连接 SSH 管理服务器，防止通过<b>流量分析</b>的方法被查出来。还有，SSH 虽然是保密的，但是一些弱智的配置错误（允许 SSHv1，使用弱密码、弱加密算法等）能让你前功尽弃，加固方法<a href=\"https://stribika.github.io/2015/01/04/secure-secure-shell.html\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">见此</a>。如果可以，SSH 服务端设置监听非 22 端口，最好不要包含 22 这个数字，防止被全网扫描</li><li>确保网站代码没有<b>低级漏洞</b>，比如 XSS，Get shell，SQL 入侵等等，而且最好添加一些 HTTP Header 加固</li><li>人的方面也很重要，不要<b>说漏了嘴</b>，即使人在国外也不能掉以轻心。确保操作的电脑无<b>病毒木马</b>，操作系统、软件的安全更新要定期检查，该打的补丁一个也不能少。能不用 Windows 就不用 Windows，漏洞多得像筛子一样</li><li>如果组队建网站，最好只通过邮件联系，少用即时通讯软件（Telegram，Signal 需要你的手机号，也不行），最好开二步验证，使用 PGP 加密邮件。SSH 尽量用公钥登录，禁止密码登录</li></ol><br>\n就这么多，以后想起来再加","date":"2018-11-18","agreeCount":99,"discussionCount":4}