{"type":"answer","id":852,"parentType":"question","parentId":166,"uid":1,"contents":"竟然没人答？都没用过 IPv6？<br>\n一人一个 IP 是不可能的。IPv6，跟 IPv4 不一样，默认分配的是一个 /64 网段（共 2^64 个地址），然后根据设备和配置的不同，每台设备分配 2-4 个 IP 地址：<br>\n<ol><br>\n<li>fe80 开头的局域网 IPv6 地址（路由器分配的，不关 ISP 事）</li><br>\n<li>2 开头的，固定的广域网 IPv6 地址（路由器、ISP 都支持 IPv6，就有 2 和 3 这两个广域网 IPv6 地址）</li><br>\n<li><b>2 开头的，在这个 /64 里随机生成的动态广域网 IPv6 地址</b>（每次重启设备都会更换。关闭隐私扩展的话，就没有这个地址）</li><br>\n<li>一个 IPv4 地址</li><br>\n</ol><br>\n隐私的泄露来源于 ISP 网段的泄露和设备 MAC 地址的泄露。举个例子（EUI-64）：<br>\nISP 给了 2001:db8:1234:5678::/64 这个网段，你设备的 MAC 地址是 12:34:56:78:90:ab，于是你设备第 2 个 IP 地址为：<br>\n2001:db8:1234:5678:<b>1034:56</b>ff:fe<b>78:90ab</b><br>\n是不是很恐怖？你 ISP 给的网段和设备的 MAC 地址都泄露，你的 IP 地址就可以构造出来。但是，现在的操作系统全部使用了“隐私扩展”，你访问网站用的<b>第 3 个（随机生成）的 IPv6 地址</b>，只会暴露 ISP 给的网段（这跟 IPv4 不是差不多么，何况有些 ISP 会给你个 /56 的网段），所以正常地访问网站，隐私性和原来一样。<br>\n补充：一些操作系统下（比如 Windows，Linux，MacOS，iOS），不一定使用 EUI-64（不使用 MAC 地址生成 IP），会在网卡驱动安装好的时候给你一个随机生成的固定 IP，然后每次启动电脑给你随机动态 IP。上网时使用的是随机动态 IP，不用担心泄露。<br>\n&nbsp;<br>\n关于代理：未混淆的协议（VPN，SS，Tor 等）和原来差不多，可以提供有限的安全性（运营商一样知道你在用哪个协议），但是混淆过的 VPN，SS/SSR 或者 Tor 之类的有一点小坑：<br>\nIPv4 时代，一家一个 IP 地址，你家路由器上的所有设备都是一个 IP 地址，假设使用混淆协议翻墙，运营商不知道哪台设备干了哪些事，一个 IP 地址的流量混杂在一起分不清。如果你一家人都在上网，你用混淆协议翻墙，ISP 看不出来。<br>\nIPv6 时代，每台设备都用一个 IPv6 地址上网。理论上，从 ISP 处观察，不同的设备有不同的 IP，如果一台设备使用了全局翻墙（VPN，SS/SSR/Tor 使用全局代理），这台设备就始终与屈指可数的几个 IP 通信，非常可疑。<br>\n如果你要追求匿名性，那就和别人使用同一个 IP 上网并且混淆协议翻墙。IPv4 你和别人同一个路由器 NAT 就行，IPv6 比较困难（除非你搞定了 IPv6 的 NAT，否则会 IP 地址冲突），要是绝对要匿名，临时关掉 IPv6 也是个办法。<br>\n其实，IPv6 没有这么恐怖，什么一人一 IP 的说法纯造谣，是不了解 IPv6 地址分配原理的结果。但是，一个设备一 IP，不同设备的活动可以被区分开了，稍稍减弱了匿名性。使用 IPv6 的话，千万不要关掉隐私扩展（Windows 默认开启，不要手贱关闭。Linux 默认关闭，需要手动开启）！","date":"2018-11-23","agreeCount":10,"discussionCount":3}