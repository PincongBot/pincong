{"type":"answer","id":28728,"parentType":"question","parentId":5445,"uid":6856,"contents":"我直接拷贝吧：<br>\n你可以思考下你的流量，是怎么从你的设备上到ISP，再到公网目标服务器的。<br>\n<br>\n<br>\n<blockquote>二层设备是工作数据链路层的设备。二层交换机可以识别数据包中的MAC地址信息，根据MAC地址进行转发，并将这些MAC地址与对应的端口记录在自己内部的一个地址表中。具体的工作流程如下：&nbsp;<br>\n（1） 当交换机从某个端口收到一个数据包，它先读取包头中的源MAC地址，这样它就知道源MAC地址的机器是连在哪个端口上的；&nbsp;<br>\n（2） 再去读取包头中的目的MAC地址，并在地址表中查找相应的端口；&nbsp;<br>\n（3） 如表中有与这目的MAC地址对应的端口，把数据包直接复制到这端口上；&nbsp;<br>\n（4） 如表中找不到相应的端口则把数据包广播到所有端口上，当目的机器对源机器回应时，交换机又可以学习一目的MAC地址与哪个端口对应，在下次传送数据时就不再需要对所有端口进行广播了。&nbsp;<br>\n　　不断的循环这个过程，对于全网的MAC地址信息都可以学习到，二层交换机就是这样建立和维护它自己的地址表。<br>\n<br>\n　　三层设备是工作在网络层的设备。路由器是最常用的三层设备，利用不同网络的ID号（即IP地址）来确定数据转发的地址。IP地址是在软件中实现的，描述的是设备所在的网络，有时这些第三层的地址也称为协议地址或者网络地址。</blockquote><br>\n<a href=\"https://www.cnblogs.com/Anker/p/4034087.html\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://www.cnblogs.com/Anker/p/4034087.html</a>","date":"2019-07-08","agreeCount":4,"discussionCount":1}