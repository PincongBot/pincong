{"type":"answer","id":148209,"parentType":"question","parentId":16955,"uid":25544,"contents":"看了下<a href=\"https://pincong.rocks/people/%E6%B2%89%E9%BB%98%E7%9A%84%E5%B9%BF%E5%9C%BA\">沉默的广场</a>说的<br>\n<a href=\"https://pincong.rocks/url/link/aHR0cHM6Ly9naXRodWIuY29tL3BpbmNvbmcvcGluY29uZy13ZWNlbnRlci9ibG9iL21hc3Rlci9tb2RlbHMvdm90ZS5waHA\">https://github.com/pincong/pincong-wecenter/blob/master/models/vote.php</a><br>\n<br>\n说一下我自己对里面声望的计算理解：<br>\n<br>\n如果声望系数不是0；<br>\ncalc_dynamic_reputation()里面是reputation=get_bonus_reputation()* 1/（（e（~2.718）^（声望动态权重参数 (赞同或反对)×投票者一星期内（赞同或反对）的总数量））（到六位数小数点））。<br>\n<br>\n在get bonus reputation()函数里，若启用长文奖励因子时，当字数的三分之一大过长文奖励最小字数时，若字数的三分之一大过长文奖励最大字数 / 2则结果会大上不少（长文奖励因子 /4和/2的差别）。<br>\n<br>\n返回的factor的计算方程式我没去深入理解，是$factor = 长文奖励因子&nbsp;去（ / 4 * (1 + $sigmoid) * $factor;&nbsp;）（字数的三分之一小过长文奖励最大字数的一半 ） 或者去（ / 2 * (1 + $sigmoid) * $factor;）（字数的三分之一不小过长文奖励最大字数的一半）。<br>\n<br>\n其中的$sigmoid = 1 / (1 + e ^ (-6 * ((总字数除以3 - 长文奖励最小字数) /&nbsp;长文奖励最大字数 - 0.5)));<br>\n<br>\ncalc_dynamic_reputation()这个函数它只被<br>\ncalc_upvote_reputation()和calc_downvote_reputation()两个呼叫，注是说是用来“ <b>计算被赞用户所获声望</b>”，分别被increase_count_and_reputation()和decrease_count_and_reputation()呼叫。<br>\n<br>\n总结一下我的理解：<br>\n字数长过一个数值后，越多字声望加成越多；<br>\n<b>字数与声望影响是正比。</b><br>\n<s>声望动态权重参数越大，影响越大；</s><br>\n<b><s>权重参数与声望影响是正比。</s></b><br>\n<b>更正：虽然声望动态权重参数是“数值越大权重下降越快, 留空则不启用”，但是，根据方程式：</b><br>\n声望动态权重参数越小，影响越大；<br>\n<b>权重参数与声望影响是反比。</b><br>\n投票者一星期内的赞同数量越少，赞同的影响力越大、<br>\n投票者7天内不赞同的数量越多，不赞同的影响力越小。<br>\n<b>7天内的相应投票数量与声望影响是反比。</b>","date":"2020-02-03","agreeCount":18,"discussionCount":3}