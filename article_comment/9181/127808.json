{"type":"article_comment","id":127808,"parentType":"article","parentId":9181,"uid":20747,"contents":"<blockquote>1.VC文件头的问题，我的确忘了怎么check。。。我可以回去重新看下那段代码2.我不是密码学专家，...</blockquote><br>\n<br>\n用密码A解密之后，你看不到隐藏卷的存在，也无从得知是否有这个文件头。你看到的文件头，是外边这个卷的（假如有隐藏卷的话）。你说的 92 8 那一行，是通用格式，并不是说一个外部卷就把隐藏卷的大小也写在那里了。<br>\n<br>\n参考代码 https://www.veracrypt.fr/code/VeraCrypt/tree/src/Volume/VolumeHeader.cpp 第63行。隐藏卷和外部卷是分开创建的，只有你成功解密隐藏卷的时候，才会看到这个大小。<br>\n<br>\n这个页面 https://www.veracrypt.fr/en/Hidden%20Volume.html 上有图示，讲了普通卷和隐藏卷的关系。隐藏卷的文件头，在普通卷或者外部卷文件头后面一个区域里。这个区域要么是完全无意义的随机数，要么是有意义的隐藏卷文件头，如何区分，要看能否用密码解密。（但用户输入密码的时候，不会指明这个密码是A还是B，VeraCrypt总是会假设它是A，如果不成功，再假设是B。）<br>\n<br>\n密码A既没有解密隐藏卷的文件头区域，其解出来的数据，也不包含隐藏卷的信息。所以无法区分。","date":"2019-11-22","agreeCount":1,"discussionCount":0}