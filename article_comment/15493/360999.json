{"type":"article_comment","id":360999,"parentType":"article","parentId":15493,"uid":20551,"contents":"<a href=\"https://pincong.rocks/article/item_id-337776#\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><blockquote>我的系统是centos7，openssl版本不是1.1.1，能不能指点下，怎么才能启动tls1.3支持...</blockquote></a><br>\n<b> 补一下，启用TLS1.3 </b><br>\n1. 安装依赖工具：<br>\n<pre>yum -y install gcc make perl pcre pcre-devel zlib zlib-devel</pre><br>\n2. 下载openssl1.1.1g源码（2020年4月最新版本）<br>\n<pre><br>\nwget https://github.com/openssl/openssl/archive/OpenSSL_1_1_1g.zip<br>\nunzip OpenSSL_1_1_1g.zip<br>\nrm OpenSSL_1_1_1g.zip &amp;&amp; mv openssl-OpenSSL_1_1_1g openssl<br>\n</pre><br>\n3. 下载Nginx1.18.0源码（2020年4月最新版本）<br>\n<pre><br>\nwget https://nginx.org/download/nginx-1.18.0.tar.gz<br>\ntar -xzvf nginx-1.18.0.tar.gz<br>\ncd nginx-1.18.0<br>\n</pre><br>\n4. 编译Nginx<br>\n<pre><br>\n./configure --with-openssl=../openssl --with-openssl-opt='enable-tls1_3' --with-http_ssl_module --with-http_gzip_static_module<br>\nmake &amp;&amp; make install<br>\n</pre><br>\n编译选项里面--with-openssl指定openssl位置，--with-openssl-opt='enable-tls1_3'这一句打开TLS1.3。<br>\n====================<br>\nNginx安装完成后，二进制文件的位置在<u>/usr/local/nginx/sbin</u>下面，可以替换原来的Ngnix可执行文件。输入<br>\n/usr/local/nginx/sbin/nginx -V<br>\n可以查看编译后的版本和编译参数。","date":"2020-04-28","agreeCount":1,"discussionCount":0}