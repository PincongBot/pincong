{"type":"article_comment","id":359604,"parentType":"article","parentId":15493,"uid":20551,"contents":"<a href=\"https://pincong.rocks/article/item_id-359271#\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><blockquote> 要不要研究一下？ </blockquote></a><br>\n感谢分享！看上去是把加密数据放到HTTP报文里，这和shadowsocks with http header差不多吧。<br>\n<br>\nv2ray也可以配置成socks5+ws/h2+tls，效率更高一些。缺点是很多客户端不支持。我在站内写过一个socks5+ws+tls的一键脚本：<br>\n<a href=\"https://pincong.rocks/video/item_id-15235\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://pincong.rocks/video/item_id-15235</a><br>\n<br>\n效率更高的实现是socks5 over TLS，这是trojan的原理，可以在0-RTT内完成传输。缺点是大多数CDN仅支持http1.1和ws，因此trojan这种自定义TCP协议不能穿透CDN。<br>\n<br>\n如果兼顾效率和CDN穿透，个人认为比较合适的方法是HTTP隧道代理+TLS。由于墙会主动嗅探代理端口，所以对不合法请求，HTTP代理必须有非标准行为。（类似Trojan）","date":"2020-04-26","agreeCount":0,"discussionCount":0}