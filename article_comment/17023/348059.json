{"type":"article_comment","id":348059,"parentType":"article","parentId":17023,"uid":18160,"contents":"<a href=\"https://pincong.rocks/article/item_id-346816#\"><blockquote>我没仔细看代码，但我感觉你说的不对，我用Accesser成功访问了使用cloudflare且被SNI...</blockquote></a><br>\n代码201-204行<br>\n<pre><br>\n        if self.host in setting.config['alert_hostname']:<br>\n            server_hostname = setting.config['alert_hostname'][self.host]<br>\n        else:<br>\n            server_hostname = None<br>\n</pre><br>\n会强制删掉SNI信息，在204行<br>\n但是，有一写特殊情况，如果域名在alert_host里，则替换成其他域名<br>\n我才你说的这个网站，应该替换成其他域名了。。。<br>\nhttps://github.com/URenko/Accesser/blob/master/config.json.default<br>\n<br>\n我没有细读代码，但是核心就这4行了。。。<br>\n<br>\n<br>\nupdate：<br>\n为了你，我专门去看了下那个网站。。。<br>\n那个网站没有使用CDN的反向代理功能【橙色云图标没亮，是灰色的】，DNS返回的IP地址是网站自己的真实IP，而不是CF的CDN地址，所以这个IP只有一个证书，不需要SNI是正常的","date":"2020-04-17","agreeCount":2,"discussionCount":0}