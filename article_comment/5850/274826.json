{"type":"article_comment","id":274826,"parentType":"article","parentId":5850,"uid":18160,"contents":"第五章：数据混淆<br>\n数据加密归加密，但是在网络传输的时候，容易被流量识别！<br>\n所以，有了一个数据混淆的技术<br>\n例如TOR的obfs4协议<br>\n对加密后的数据，在传输的时候，进行伪装<br>\n一般就是把自己模拟成正常的http请求，显得自己是正常的上网。<br>\n<br>\n这个还挺不好讲的。。。<br>\n例如前置域名啊，模拟http啊，使用wss啊<br>\n比如数据分片，ack包，padding包，然后会对多个代理进行负载均衡。。。<br>\n真实数据放在stream frame里<br>\n然后还有乱序整理，重传确认，RTT，窗口大小等。。。<br>\n<br>\n逻辑上，我应该去看看迷雾通作者的代码的，毕竟人家也开源了，很配合<br>\n我一直没有去检查代码，惭愧啊。。。<br>\n<br>\n<br>\n<br>\n<br>\n总感觉这个翻墙需要很多的知识储备。。。<br>\n如果你使用Chrome浏览器，建议多看看BoringSSL的代码，其中证书，等过程都是chrome把相关函数指针传给BoringSSL当回调指针的，如果个人使用，可以用现成的，也就是回调指针为空，BoringSSL会自己用内部实现。Chrome的这个代码我看了用了线程池来提高效率。默认的是单线程阻塞。<br>\nBoringSSL代码应该是fork了OpenSSL<br>\n<br>\n火狐代码来自NSS 代码没有看过！<br>\n我也只对DoH和ESNI有兴趣，稍微瞄一眼，大概出了bug，我知道怎么改代码<br>\n<br>\nchrome和firefox的本地编译，我觉得都很痛苦<br>\n额外提一句，firefox的xpcom好复杂，用起来倒是挺好的<br>\nvirtualbox也是基于xpcom写的<br>\n<br>\n<br>\n<br>\n<br>\n<br>\n<br>\n<br>\n我觉得，写的挺多了<br>\n有什么需要补充的？","date":"2020-03-01","agreeCount":4,"discussionCount":0}