{"type":"article_comment","id":306481,"parentType":"article","parentId":5850,"uid":18160,"contents":"geph-official/geph2/cmd/geph-client/listeners.go<br>\nremote, ok = sWrap.DialCmd(\"proxy\", rmAddr)<br>\n這行代碼代理連接目標地址<br>\n<br>\ngeph-official/geph2/cmd/geph-client/muxwrap.go<br>\nrlp.Encode(strm, cmds)<br>\nerr = rlp.Decode(strm, &amp;connected)<br>\n這裏調用了ethereum的代碼，以太坊？區塊鏈？<br>\n<br>\n不管了，<b>下次看下以太坊的文檔</b><br>\ngeph2/cmd/geph-exit/handle.go<br>\ntcpAddr, err := net.ResolveTCPAddr(ntype, host) <br>\nremote, err = net.DialTimeout(ntype, tcpAddr.String(), time.Second*30)<br>\n總結，geph-client會把代理請求以cmd為\"proxy\"發給geph-exit，geph-exit把收到的報文還給<br>\ngeph-client，這樣就是完整的交互邏輯了<br>\n<br>\n<br>\n<br>\n============我是分割綫=================<br>\ngeph2/cmd/geph-bridge/handle.go<br>\n看case \"conn/e2e\":<br>\n看case \"tcp\":<br>\n這兩個case<br>\n<br>\n<br>\n我猜猜，<br>\ngeph-client 發給 geph-bridge<br>\ngeph-bridge 發給 geph-exit<br>\ngeph-exit 是 我們理解的VPS，出口去訪問真正的目標地址<br>\n<br>\n我現在的閲讀目的是瞭解<br>\ne2e是什麽，以及如何得到bridge，這裏的加密協議是什麽<br>\n<br>\n<br>\n墻好高啊，我好像又出不來了。。。","date":"2020-03-20","agreeCount":1,"discussionCount":0}