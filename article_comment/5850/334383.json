{"type":"article_comment","id":334383,"parentType":"article","parentId":5850,"uid":2296,"contents":"<blockquote>from PIL import Image<br>\nimport numpy as np<br>\nconverted_image=np.asarray(Image.open('C:\\\\Users\\name.jpg').convert('L')).astype('float')<br>\n<br>\nblack_depth = 5.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # (0-100)<br>\ngrad = np.gradient(converted_image)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #取图像灰度的梯度值<br>\ngrad_x, grad_y = grad&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>\ngrad_x = grad_x*black_depth/100.<br>\ngrad_y = grad_y*black_depth/100.<br>\nA = np.sqrt(grad_x**2 + grad_y**2 + 1.)<br>\nuni_x = grad_x/A<br>\nuni_y = grad_y/A<br>\nuni_z = 1./A<br>\n<br>\nvec_el = np.pi/2.2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<br>\nvec_az = np.pi/4.&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>\ndp_x = np.cos(vec_el)*np.cos(vec_az)&nbsp;&nbsp;<br>\ndp_y = np.cos(vec_el)*np.sin(vec_az)&nbsp;&nbsp;<br>\ndp_z = np.sin(vec_el)&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br>\n<br>\nrecontri_image = 255*(dp_x*uni_x + dp_y&nbsp;*uni_y + dp_z&nbsp;*uni_z)&nbsp;<br>\nrecontri_image&nbsp;= b.clip(0, 255)<br>\n<br>\nim_save = Image.fromarray(b.astype('uint8'))<br>\nim_save.save('D:\\\\暗夜.jpg')</blockquote><br>\n窝佬就是拿3-4的灰度值打印出来线条用铅笔描呗，拿代码出来，窝佬也是毫无损失","date":"2020-04-07","agreeCount":0,"discussionCount":0}