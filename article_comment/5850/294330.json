{"type":"article_comment","id":294330,"parentType":"article","parentId":5850,"uid":18160,"contents":"@沉默的广场<br>\n<br>\nvmess的协议格式<br>\nhttps://github.com/v2ray/manual/blob/master/zh_cn/developer/protocols/vmess.md<br>\n<br>\n我谈几点<br>\n1.用了websocket，应该就不走这个协议格式了【我猜】<br>\n2.这个格式，的确做了很多混淆的工作。但是GFW，应该是把不认识的协议都无条件封杀了【我猜】<br>\n其实，长成这样，怎么看都像加密数据，但是又不是TLS，说明是自己写的加密协议<br>\n这都不封杀，GFW估计是脑子有坑了<br>\n3.vmess放着标准的TLS不用，倒是自己把TLS的规范琢磨了一遍<br>\na)没有使用证书机制，容易被中间人攻击。单纯用userid鉴权。<b>其实安全性也足够了</b><br>\nb)没有密钥协商<br>\nc)自己实现了TLS的混淆技术，例如mask，padding等<br>\n<br>\n代码实现<br>\nv2ray-core\\proxy\\vmess\\encoding\\client.go<br>\nNewClientSession<br>\nEncodeRequestHeader<br>\nEncodeRequestBody<br>\nDecodeResponseHeader<br>\nDecodeResponseBody<br>\nv2ray-core\\proxy\\vmess\\encoding\\server.go<br>\nNewServerSession<br>\nDecodeRequestHeader<br>\nDecodeRequestBody<br>\nEncodeResponseHeader<br>\nEncodeResponseBody","date":"2020-03-12","agreeCount":3,"discussionCount":0}