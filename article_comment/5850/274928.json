{"type":"article_comment","id":274928,"parentType":"article","parentId":5850,"uid":18160,"contents":"TLS 1.0 /1.1 已经不安全了！！！<br>\n大家不要使用<br>\n<br>\n现在起码得TLS1.2 <br>\nTLS 1.3 更安全！<br>\n<br>\nTLS 1.3 更新点： <br>\n&nbsp;&nbsp;&nbsp; 移除RSA密钥传输——不支持前向安全性<br>\n&nbsp;&nbsp;&nbsp; 移除CBC模式密码——易受BEAST和Lucky 13攻击，改用gcm<br>\n&nbsp;&nbsp;&nbsp; 移除RC4流密码——在HTTPS中使用并不安全<br>\n&nbsp;&nbsp;&nbsp; 移除SHA-1，md5哈希函数——建议以SHA-2取而代之<br>\n&nbsp;&nbsp;&nbsp; 任意Diffie-Hellman组——CVE-2016-0701漏洞<br>\n&nbsp;&nbsp;&nbsp; 输出密码——易受FREAK和LogJam攻击<br>\n&nbsp;&nbsp;&nbsp; 在TLS 1.3版本中，重新磋商是不可能的。<br>\n&nbsp;&nbsp;&nbsp; 现在大部分握手都会被加密。<br>\n&nbsp;&nbsp;&nbsp; 更多类型的消息现在可以有扩展(这对定制扩展API和证书透明系统有影响)。<br>\n&nbsp;&nbsp;&nbsp; 在TLS 1.3连接中不再允许使用DSA证书。<br>\n<br>\n<br>\nPSK（pre_shared_key）——新的密钥交换暨身份认证机制<br>\nHKDF（HMAC_based_key_derivation_function）——新的密钥导出函数<br>\nAEAD（Authenticated_Encrypted_with_associated_data）——唯一保留的加密方式<br>\n<br>\n关于boringSSL代码，从上面代码开始读起的问题<br>\n我建议从状态机开始看起<br>\n每个状态对应一个处理函数<br>\n搜索do_start_connect，看客户端发起TLS client hello读起【客户端路线】<br>\n搜索ssl_server_handshake，看服务端收到client hello怎么处理【服务端路线】<br>\n<br>\n如果不关心TLS的交互，只是需要学习怎么使用API<br>\n客户端学习下SSL_connect 这个API怎么用就好了，这个是连接服务端<br>\nSSL_read/SSL_write 这个是数据的收发<br>\nSSL_shutdown&nbsp;&nbsp; 关闭连接。<br>\n<br>\n<br>\n现在的年轻人啊，都不愿意学这些枯燥乏味的技术了","date":"2020-02-29","agreeCount":2,"discussionCount":0}