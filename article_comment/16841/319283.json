{"type":"article_comment","id":319283,"parentType":"article","parentId":16841,"uid":26126,"contents":"<a href=\"https://pincong.rocks/article/item_id-318151#answer_list_318151\"><blockquote>一篇文章（时间倒序顺序、票数多少、有无id）一篇问题（时间倒序顺序、票数多少、有无id）视频暂时不用...</blockquote></a><br>\n<br>\n以下是更新之后的代码，带前后缀的品葱链接都能通吃，而且解决了在windows上的一个小bug。<br>\n<pre>import re<br>\nlinks = open('links.txt','r', encoding='utf-8').read()<br>\nout = open('links_sorted.txt','w', encoding='utf-8')<br>\nexp = r'(\\[url=.*?(article|video|question)/.*?(\\d{1,}).*?\\](.*?)\\[/url\\])'<br>\n<br>\nall_links = re.findall(exp, links)<br>\nall_links = sorted(all_links, key=lambda k:-int(k[2]))<br>\n<br>\ndef filt(key):<br>\n    return ''.join(<br>\n        [bbcode+'\\r\\n' for bbcode, type, id, text in all_links if type==key]<br>\n    )<br>\n<br>\nquestions = filt('question')<br>\narticles = filt('article')<br>\nvideos = filt('video')<br>\nout.write('问题：\\r\\n{}文章：\\r\\n{}视频：\\r\\n{}'.format(questions,articles,videos))</pre><br>\n前文提到的links.txt如果使用【记事本】保存，编码建议选择【UTF-8】。","date":"2020-03-28","agreeCount":0,"discussionCount":0}