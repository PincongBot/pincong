{"type":"article_comment","id":318093,"parentType":"article","parentId":16841,"uid":26126,"contents":"步骤：假设你用的是windows 7 或者windows 10<br>\n<br>\n1、<br>\n下载Python并安装&nbsp;<a href=\"https://pincong.rocks/url/link/aHR0cHM6Ly93d3cucHl0aG9uLm9yZy9mdHAvcHl0aG9uLzMuNy43L3B5dGhvbi0zLjcuNy1hbWQ2NC5leGU\">https://www.python.org/ftp/python/3.7.7/python-3.7.7-amd64.exe</a><br>\n<br>\n2、<br>\n编辑帖子主楼，在品葱编辑器的工具栏，点最右侧第二个按钮（&lt;&gt;按钮），查看bbcode。将bbcode内容复制出来，保存到一个叫links.txt的文本文件里。<br>\n<br>\nlinks.txt文件内容如下：<br>\n<pre>[url=https://pincong.rocks/article/16792]一次性解决品葱内容质量低、发言不友善、执法困难多、管理负担重等问题的办法[/url]<br>\n<br>\n[url=https://pincong.rocks/video/1581]戴口罩就能阻断传播？勤洗手才是防疫的关键[/url]<br>\n[url=https://pincong.rocks/article/16744]木棉花党党员召集中（已成立，首批党员3人[/url]<br>\n[url=https://pincong.rocks/article/16570]品葱不是法外之地[/url]<br>\n[url=https://pincong.rocks/question/16926]台湾在口罩上使用了终极大招，其他国家会模仿吗？[/url]<br>\n[url=https://pincong.rocks/article/16310]简单介绍一下粉红经济圈[/url]<br>\n<br>\n[url=https://pincong.rocks/video/1070]也门女性用AK追求平权[/url]<br>\n[url=https://pincong.rocks/question/16609]（HTML版本）新品葱非定期统计公报（20200129），你上榜了吗？[/url]</pre><br>\n<br>\n可以看到顺序是乱的，类别也是乱的。<br>\n<br>\n3、<br>\n将以下内容，保存为 linksort.py 文件（后缀是.py，不是.txt），跟上面的links.txt放在一起。<br>\n<pre>import re<br>\nlinks = open('links.txt','r', encoding='utf-8').read()<br>\nout = open('links_sorted.txt','w', encoding='utf-8')<br>\nexp = r'(\\[url=.*?(article|video|question)/.*?(\\d{1,}).*?\\](.*?)\\[/url\\])'<br>\n<br>\nall_links = re.findall(exp, links)<br>\nall_links = sorted(all_links, key=lambda k:-int(k[2]))<br>\n<br>\ndef filt(key):<br>\n    return ''.join(<br>\n        [bbcode+'\\r\\n' for bbcode, type, id, text in all_links if type==key]<br>\n    )<br>\n<br>\nquestions = filt('question')<br>\narticles = filt('article')<br>\nvideos = filt('video')<br>\nout.write('问题：\\r\\n{}文章：\\r\\n{}视频：\\r\\n{}'.format(questions,articles,videos))<br>\n</pre><br>\n<br>\n4、<br>\n开始菜单输入CMD回车，启动命令提示符，并切换到文件所在目录。假设你把文件放在了桌面，请cd到桌面目录（也就是输入以下命令）：<br>\n<pre>cd C:\\Users\\YourName\\Desktop</pre><br>\n<br>\n5、<br>\n然后输入以下命令：<br>\n<pre>python linksort.py</pre><br>\n<br>\n6、<br>\n桌面上会多出来一个links_sorted.txt文件，内容如下：<br>\n<pre>问题：<br>\n[url=https://pincong.rocks/question/16926]台湾在口罩上使用了终极大招，其他国家会模仿吗？[/url]<br>\n[url=https://pincong.rocks/question/16609]（HTML版本）新品葱非定期统计公报（20200129），你上榜了吗？[/url]<br>\n文章：<br>\n[url=https://pincong.rocks/article/16792]一次性解决品葱内容质量低、发言不友善、执法困难多、管理负担重等问题的办法[/url]<br>\n[url=https://pincong.rocks/article/16744]木棉花党党员召集中（已成立，首批党员3人[/url]<br>\n[url=https://pincong.rocks/article/16570]品葱不是法外之地[/url]<br>\n[url=https://pincong.rocks/article/16310]简单介绍一下粉红经济圈[/url]<br>\n视频：<br>\n[url=https://pincong.rocks/video/1581]戴口罩就能阻断传播？勤洗手才是防疫的关键[/url]<br>\n[url=https://pincong.rocks/video/1070]也门女性用AK追求平权[/url]<br>\n</pre><br>\n<br>\n可以看到已经按类别分类，顺序也是按时间逆序。<br>\n<br>\n7、<br>\n将以上bbcode复制，黏贴到品葱编辑器内即可。","date":"2020-03-26","agreeCount":1,"discussionCount":0}