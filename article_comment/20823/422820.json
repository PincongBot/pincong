{"type":"article_comment","id":422820,"parentType":"article","parentId":20823,"uid":18160,"contents":"# 全连接<br>\n<br>\n现在假设 x^2+y^2 = 1 是一个圆，记为f(x,y)<br>\n我想计算 这个圆在第一象限的面积！我知道答案是 Pi/4<br>\n怎么做呢？<br>\n步骤如下：<br>\n1. 在圆上 随机选择一个点P<br>\n2. 在点P上画一条 切线 L<br>\n3.计算 L 和 x轴，y轴 相交的得到的三角形的面积<br>\n4. 重复 上面的操作，计算两个 三角形的面积的交集<br>\n5. 重复 n 次 ，得到 这些三角形 面积的交集<br>\n<br>\n当 n 无限大的时候，则 <b>面积的交集</b> 就是 这个 1/4圆的面积了！<br>\n<br>\n别问我为什么这里你们看不懂了。。。[哪怕不懂，也麻烦你们后面说不懂的地方，我来补充！]<br>\n<br>\n因为切线是直线，所以 切线可以用 y = w*x + b来表示<br>\n比如我们选择了第一条切线y = w1 * x +b1<br>\n第二条 是y = w2 * x * b2<br>\n<br>\n然后我们得到了n条切线<br>\ny = w1 * x + b1<br>\ny = w2 * x + b2<br>\n。。。<br>\ny = wn * x + bn<br>\n<br>\n因为我们觉得这样写好麻烦<br>\n所以把(w1,w2,...wn)记为 向量 W，同理b记为 向量B<br>\n得到 <br>\ny = W*x + B<br>\n因为 需要随机选择的点P都在三角形里（使用我们上面说到的激活函数）<br>\n所以 <br>\nA(x) = 1 if (W*x + B) &gt; y else 0<br>\n<br>\n明白了么？<br>\n一维的全连接 = n条切线 所包围的图形的面积！<br>\n<br>\n构成这个图形的曲线，我们取个名字叫<b>特征函数</b><br>\n现在，我想求n个特征函数的面积！<br>\n所以把y和x也向量化吧，得到了<br>\nY = W*X + B<br>\n所以 权重矩阵W 的 行表示有n条切线，列数m表示多少个特征函数的面积<br>\n<br>\n当然了切线越多，对面积的逼近约准确，精度越高，但是运算量也越大<br>\n所以，现在很少有增加切线的神经网络，所以你们在使用全连接的时候，会发现很少使用，往往出现在最后几层计算<br>\n现在的主流是增加对特征函数的寻找上<br>\n<br>\n# 卷积层<br>\n其实卷积层，和上面的全连接层是类似的<br>\n我日后解释下卷积层的由来吧。。。【草稿中，后续补充】<br>\n全连接层 的权重W矩阵 是 行 x 高 = 切线的数量 x 特征的数量<br>\n因为 切线的数量越高，对特征函数的拟合度越高，所以按理应该增加切线数量来提高精度<br>\n但是，这样会增加大量的计算量！<br>\n<b>所以会限制切线的数量！</b><br>\n反而更加特征数量！<br>\n<br>\n问题来了，如何从现有的曲线里增加特征数量呢？<br>\n这个就是卷积层的价值了<br>\n<br>\n通过卷积核，来生成我需要的特征数量！<br>\n举个例子 3x3的卷积核，可以理解为 用3条切线，得到了3个特征！<br>\n增加卷积核越多，发现的特征越多！<br>\n<br>\n但是这里的切线不再是直线了<br>\n应该是<br>\nax^3 + bx^2 + cx +d = 0<br>\nex^3 + fx^2 + gx +h = 0<br>\nix^3 + jx^2 + kx +l = 0<br>\n<br>\n大概就是这样了，用不是直线的曲线去切出特征向量。。。。<br>\n<br>\n下次说具体点好了<br>\n<br>\n的确打字表达很难。。。画图就好理解多了！<br>\n总结就是卷积核就是一个 “筛子”，只有符合“筛子”形状的曲线才能 激活<br>\n否则不激活，激活得到的曲线，就是新的特征曲线<br>\n用全连接，去计算得到的新的特征曲线，就和前面连起来了<br>\n<br>\n特征越多，对计算面积的精度帮助越大<br>\n所以需要构造尽可能多的特征，通过卷积核，来人为构造特征<br>\n特征尽可能要少些，否则计算量太大，一个是内存/显存不够用<br>\n另一方面，是费时间<br>\n如何挑选特征，就是看图形！形状越丰富越好！把没有现状的特征都剔除！<br>\n只能意会，我也只能怎么给建议。。。<br>\n就是每次使用卷积层以后，看看输出结果长什么样，然后把自己不喜欢的删了。。。","date":"2020-06-26","agreeCount":0,"discussionCount":0}