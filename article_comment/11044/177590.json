{"type":"article_comment","id":177590,"parentType":"article","parentId":11044,"uid":20551,"contents":"就像RFC楼里有人问的一样，约定密码很难保存，明文保存泄密风险很高。<br>\n<br>\ncertutil新手很容易弄错文本编码，我提供一个windows系统上更简便的方法。<br>\n<br>\n用户需要先想一个<b>秘密字符串</b>，这个字串只有用户自己知道，不能对外公布。比如我想了一个秘密字符串是：<br>\n<blockquote>Vladimir Lenin, Joseph Stalin, Nikita Khrushchev and Leonid Brezhnev are all travelling together in a railway carriage. Unexpectedly, the train stops.</blockquote><br>\n<br>\n然后打开windows的powershell，输入<br>\n<blockquote>[bitconverter]::tostring((new-object security.cryptography.sha512managed).computehash([text.encoding]::utf8.getbytes(&quot;<b><u>你的秘密字符串</u></b>&quot;))).replace(&quot;-&quot;, &quot;&quot;)</blockquote><br>\n<br>\n把加粗部分替换成你的秘密字符串，然后回车，运行这段代码，结果应该是<br>\n<blockquote>015AD650D142DC75BF6DC878046C18DB44AEEFFEA49C92527402D084396AC83C526C136F02542EEB5CC69895A4E202C24C27250B2B536AF656C4718BC19D3152</blockquote><br>\n上面这个字串就是sha512，<b>需要对外公开</b>，随便大字报贴到哪都可以。<br>\n<br>\n<b>等到验证身份的时候，用户再公开自己的秘密字符串。</b>管理员根据用户提供的秘密字符串再算一遍sha512，如果计算结果和用户自己公开sha512一样，就说明这个用户是原账号所有者。","date":"2019-12-30","agreeCount":2,"discussionCount":0}