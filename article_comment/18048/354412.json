{"type":"article_comment","id":354412,"parentType":"article","parentId":18048,"uid":21337,"contents":"不清楚鉴权部分如何做的（说实话，我没看过代码，瞄过一眼看不懂——从未学过 Go 语言），但不使用 https 会是隐患，毕竟 GFW 不需要知道用户的通讯内容是什么，只需要知道用户翻墙的可能性有多大就足够，再配合流量行为分析就可以采取措施（重置连接甚至封杀IP）。<br>\n<br>\n这一点，只需要使用中间人攻击法就可以达到目的，劫持通信后就算有鉴权，由于通讯内容是未加密的 http，GFW完全可以看清楚鉴权认证的数据包 header（除非 header 没有特征，这一点还得代码），一旦发现是可疑数据包就立即重置连接，翻墙失败。<br>\n<br>\n对了，其实那个技术<b>不是内网穿透</b>，内网穿透是用来帮助两个<b>纯内网</b>做互联的。如果用户侧多层内网，但 VPS 是公网的话，UDP 也能直连，不用内网穿透，普通 NAT 就可以了。作者增加网桥有几个好处：<br>\n<ol><li>墙屏蔽出口节点 IP 无法阻止翻墙者，因为用户（翻墙者）并非直连节点。</li><li>中转网桥可以建许多个，例如使用对中国网络网速友好的VPS提供接入服务，但出口位置可以设在美国（比如香港建立中转服务，转发到美国——这只是举例，不一定是迷雾通实际地理用法），这样用户就可以获得更好的网络体验。</li><li>由于不影响出口节点，因此每当更替中间节点时（例如某一个节点的 VPS 提供商涨价要换，或某节点在某些省市开始被墙）也不会造成大量已连用户断线。</li></ol><br>\n<br>\n————<br>\n说完迷雾通说一点我自己平时的翻墙。<br>\n我个人仍然更倾向于使用 VPN，而不是各种各样的 scoks 代理，因为 VPN 会用到虚拟网卡，这样我就可以随意使用 ICMP Ping / traceroute 等工具了","date":"2020-04-21","agreeCount":4,"discussionCount":0}