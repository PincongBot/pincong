{"type":"article","id":2627,"title":"简单的中文情绪分析","uid":5356,"topics":[2421,2422],"contents":"snownlp是一个针对简体中文的包 <a href=\"https://github.com/isnowfy/snownlp\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/isnowfy/snownlp</a><br>\n<br>\n安装<br>\npip install snownlp<br>\n<br>\n可以考虑用它作中文情绪分析，实时检测论坛中的辱骂内容，自动折叠，甚至封禁。<br>\n（引用辱骂言论要格外小心）<br>\n每个分句情绪打分0-1，0表示极端负面，1表示极端正面情绪。<br>\n<br>\npython代码<br>\n<blockquote>from snownlp import SnowNLP<br>\n<br>\ntextraw = u' 你连你妈这种弱智都比不上。u r simply brainless. '<br>\n<br>\ntext = SnowNLP(textraw)<br>\nsent = text.sentences<br>\nfor sen in sent:<br>\n&nbsp; &nbsp; s = SnowNLP(sen)<br>\n&nbsp; &nbsp; print(s.sentiments)<br>\n</blockquote><br>\n<br>\n测试1 辱骂 citadelguy1 <a href=\"https://pincong.rocks/article/2546\">https://pincong.rocks/article/2546</a>，两句辱骂得分都接近0，检测成功<br>\n<blockquote>0.05758979804724318, 你连你妈这种弱智都比不上<br>\n0.09440545332796668, u r simply brainless.</blockquote><br>\n<br>\n测试2 Clickbait类标题 <a href=\"https://pincong.rocks/question/5458\">https://pincong.rocks/question/5458</a><br>\n检测比较成功<br>\n<br>\n<blockquote>0.19999999999999996, “姨妈来了<br>\n0.15779537709692548, 多喝水”“滚<br>\n0.4737672181921908, ”（Papi酱）</blockquote><br>\n<br>\n<br>\n测试3 粗鲁语言 <a href=\"https://pincong.rocks/article/2546\">https://pincong.rocks/article/2546</a> 有一句检测出来，其余很多都误判<br>\n<br>\n<blockquote>0.927197827472927, 这些大大小小论坛里头挺共的人啥鸡巴都不懂<br>\n0.41790744248665135, 整天除了复读几句官煤的话就是刷屏洗版<br>\n0.7803827019416919, 要让他们说点共产党制定政策和行事的逻辑<br>\n0.3907974539713116, 他们还不如我们这些反贼了解的清楚<br>\n0.9208456978650069, 要派人来踢馆就要派点懂理论有本事有耐性有纪律的精英来<br>\n0.10583924187953386, 那种挨不起两句骂就控制不住情绪对骂的垃圾我们不欢迎<br>\n0.43385383436126157, 派这种垃圾来就是看不起我们嘛<br>\n0.8530966709059733, 他们敢派这样的傻逼去见政治局常委吗<br>\n0.5707993346418163, 我们的态度也是对等的<br>\n0.547300555529161, 自干五也要参考五毛的标准<br>\n0.2027434232344748, 不然怎么对的起「五」字<br>\n</blockquote><br>\n<br>\n测试 4 粗鲁语言<br>\n<br>\n<blockquote>0.9411086812424297, 以中共这种全党腐败、离心离德、高层互杀的尿性<br>\n0.7979461276055869, 到时候不知高层会有多少刘连昆呢<br>\n0.7834302728770437, 刘不过是校官不是上层<br>\n0.6478398242842971, 但是大鼹鼠平时不动<br>\n0.8527849730778211, 关键时刻一下子就撼动中共国祚<br>\n0.29327006512214027, 土共知道这点<br>\n0.2217291501820553, 所以它不敢打<br>\n0.673944186023879, 一打台湾台军必然视死若归捍卫民国<br>\n0.7749290041983888, 拖48小时美军航母、日本自卫队一来<br>\n0.09305168967864463, 中共那2口铁棺材（据说一口在建）就不灵了<br>\n</blockquote><br>\n<br>\n测试 5 一般评论 <a href=\"https://pincong.rocks/article/2600\">https://pincong.rocks/article/2600</a><br>\n<br>\n<blockquote>0.046322328780759925, 開槍打死監戰員<br>\n0.5640844766694931, 就算死也要帶走一個<br>\n</blockquote><br>\n<br>\n<br>\n<br>\nsnownlp是基于词库进行判断，可见通用的语言模型放到品葱误判率较高。<br>\n测试4、5中，涉及「死」「棺材」字眼评分很负面，但实际上并不负面。<br>\n测试3粗鲁语言较多，但因为有「中共」「政治局」「挺」等字眼却将粗鲁语言评分非常正面。<br>\n测试1、2 那种一般性骂人语言检测率很高。<br>\n<br>\n其他例子，五毛喜欢用的短句辱骂检测率很高，长句较差。<br>\n<br>\n<blockquote>0.07565353203396996, 弱智你来送妈了<br>\n<br>\n0.01495877994086492, 为什么汉奸狗和台巴子都觉得我们是翻墙的<br>\n0.6496504748650795, 我不能在美国<br>\n<br>\n0.607471099845429, 汉奸狗精神分离症患者<br>\n0.8321239771987957, 你开心就好<br>\n0.8684210526315791, 哈哈哈<br>\n0.08378756987007996, 轮子狗死死死死死死死<br>\n0.22428735224290963, 共产党剁掉你全家的脑袋<br>\n0.1771040735759627, 锁住你全家的鬼混<br>\n0.5618564189277186, 让你全家永世不得超生<br>\n0.5262327818078083, 嘎哈哈啊哈<br>\n</blockquote><br>\n<br>\n<br>\n<br>\n建议：品葱应收集辱骂和人身攻击性捣乱者的语言进行搜集，提取常用词汇，方便自动检测极端负面情绪和辱骂。不过snownlp的好处是速度快。","date":"2019-07-27","agreeCount":13,"discussionCount":0}