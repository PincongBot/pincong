{"type":"article","id":2717,"title":"转载/如何搭建思科vpn","uid":1927,"topics":[470,116,112],"contents":"<a href=\"https://www.google.com/amp/s/blog.ysoup.org/amp/cisco-anyconnect-vpn.html\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">阅读原文</a><br>\n<br>\nhttps://www.google.com/amp/s/blog.ysoup.org/amp/cisco-anyconnect-vpn.html<br>\n<br>\n<a href=\"https://blog.ysoup.org/ampindex/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">老盐鸡汤面</a><br>\n从零开始：手把手教你搭建私人 Cisco AnyConnect VPN 服务<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/656484972.jpg\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/656484972.jpg</a><br>\n<blockquote>AnyConnect为思科推出的客户端，目前已有Windows、Android、iOS、OS X、Ubuntu、WebOS等操作系统的客户端。AnyConnect主要作用是方便员工在任何设备上安全地办公。（维基百科）</blockquote><br>\n本教程不需要你拥有任何编程基础，手把手教你搭建自己的安全上网服务。<br>\n1. 选购VPS、配置操作系统<br>\n首先，你需要有一台服务器。笔者使用的是Vultr提供的服务器，5刀/月。当然你也可以选择HostUS提供的美国服务器，目前价格是16刀/年。<br>\nHostUS 服务器选购与配置<br>\n点这个链接购买：<a href=\"https://my.hostus.us/aff.php?aff=1238&amp;pid=288\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">HostUS 768MB Special Offer</a><br>\n购买时会要求你设置密码，这个密码可以用随机密码，也可以自己设定。越复杂越安全。<br>\n这个密码要牢记，之后登录服务器需要用到。<br>\nHostname可以填写自己的域名，或者随便填一个网址。然后，点击Continue、Checkout继续，用Paypal或信用卡支付，支付操作这里不赘述。<br>\n购买成功后，登录自己的账户，你会看到这个后台界面：<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3033007945.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3033007945.png</a><br>\n点击 Service（服务），查看自己的服务器状态。<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/295984097.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/295984097.png</a><br>\n刚买好时，会是Pending状态，这时候还不能使用。耐心等上1小时左右，会变成上图的Active。这时，点击服务器名字进入。<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3546973890.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3546973890.png</a><br>\n这里的“Primary IP”就是你服务器的IP地址，记下来。<br>\n然后点击 Rebuild，把服务器改为我们需要的Ubuntu 14.04系统：（Debian 7+亦可）<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3797177610.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3797177610.png</a><br>\n执行后，等待5分钟。最后，很重要的一点，我们需要在settings中，打开服务器的TUN/TAP功能，否则无法安装：<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1531266871.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1531266871.png</a><br>\n2. 登录服务器<br>\n笔使用的是Mac OS自带的Terminal（终端）工具。如果是Windows用户，可以用Putty等工具连接。（下载：PuTTY 0.61 –远程登录/控制–常用软件–站长百科下载）<br>\n如果你的IP地址是104.128.229.67，则输入：<br>\n<pre>ssh root@104.128.229.67</pre><br>\n回车，出现提示，输入“yes”<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3333934697.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3333934697.png</a><br>\n输入你在购买服务器时设置的密码。注意这里的密码输进去后，是不会显示出来的。<br>\n输好后直接回车。<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1669376093.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1669376093.png</a><br>\n出现上述界面，则登录成功。<br>\n然后输入下述命令后，回车，以更新系统：<br>\n<pre>apt-get update &amp;&amp; apt-get upgrade -y</pre><br>\n跑完一长串代码后，输入OpenConnect server(ocserv) 一键脚本安装：<br>\n输入：<br>\n<pre>wget git.io/p9r8 --no-check-certificate -O ocservauto.sh&amp;&amp;bash ocservauto.sh</pre><br>\n然后按回车。<br>\n如果出现TUN/TAP没有打开的错误提示，请确认你的TUN/TAP是否打开（见上文）。<br>\n一番check ok后，出现：<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1214672066.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1214672066.png</a><br>\n输入 n，回车。<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1848774736.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1848774736.png</a><br>\n按提示设置用户名，回车；再设置密码，回车，再回车，进入自动安装程序：<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1699570056.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1699570056.png</a><br>\n这时，泡一杯咖啡，下楼跑三圈吧。安装的耗时会比较长。在这个过程中，不要关闭连接窗口哦。<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1427511889.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1427511889.png</a><br>\n当出现这个界面时，恭喜你，你的服务器已经架设完成了！<br>\n其中的 104.128.229.67:999 就是你的服务器地址，要记下来。包括冒号之后的内容。<br>\n3. 连接服务器<br>\n3.1 Mac OS<br>\n下载客户端：AnyConnect Client 4.2.00096 发布附下载 (来源：V2EX）<br>\n安装时选择VDN，点击安装。<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3956643500.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/3956643500.png</a><br>\n点开Anyconnect应用<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1427511889.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1427511889.png</a><br>\n出现界面后，点击左下角的小齿轮（设置）<br>\n取消勾选最后一项<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/2759799569.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/2759799569.png</a><br>\n地址栏输入自己的IP和端口号，就是最后完成时命令行给出的地址。<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1841123405.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1841123405.png</a><br>\n输入自己的用户名、密码。<br>\n成功连接。<br>\n3.2 Windows<br>\n下载客户端：AnyConnect Client 4.2.00096 发布附下载 (来源：V2EX）<br>\n点击Next，Accept条款，Install，Finish<br>\n在开始菜单中找到它：<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/2363316933.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/2363316933.png</a><br>\n和上面Mac的操作过程一样，输入自己的服务器地址（包括冒号和后面的数字），以及自己第用户名、密码登录。<br>\n出现安全提示，是因为我们没有签名证书，忽略即可:<br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1453179605.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/1453179605.png</a><br>\n<a href=\"https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/415035725.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://blog-ysoup-org.cdn.ampproject.org/i/s/blog.ysoup.org/usr/uploads/2017/08/415035725.png</a><br>\n3.3 iPhone、iPad<br>\n在AppStore里搜索Anyconnect，安装<br>\n输入地址、用户名、密码连接即可。","date":"2019-07-31","agreeCount":0,"discussionCount":0}