{"type":"article","id":2089,"title":"翻墙简述——如何愉快的自由飞翔 ：选择你自己的V2Ray翻墙协议 [转]","uid":5000,"topics":[574,2198,112],"contents":"<b>1.当前主流的翻墙协议</b><br>\n<b>2.选择翻墙服务器应该注意什么</b><br>\n<b>3.自己动手做一个翻墙服务器（ShadowsocksV2Ray）</b><br>\n<br>\n<br>\n<br>\n1.当前主流的翻墙协议介绍：<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 说到翻墙，就不得不说到clowwindy大佬的Shadowsocks（简称SS）了，在GFW对各种知名VPN协议进行封锁时，clowwindy自己用python写了Shadowsocks并放到了github上，引起了自建服务器的热潮，shadowsocks抛弃了VPN复杂的部署过程及安全需求，以能简简单单就能突破GFW的封锁以访问互联网为目的，受到了很多人的追捧，但是因为太过火热导致clowwindy被请喝茶，导致clowwindy退出了ss的开发，现在的ss是由他人在进行维护，并拥有了各种语言的版本，（ShadowsocksR是Shadowsocks的加强版本，由破娃酱breakwa11开发，最初为解决早期ss的一个漏洞，该漏洞可以让ss服务器变得容易被发现，并且为ss提供了包括混淆，kcp在内的一些插件（PS：当年ssr稳定性太差对于一个周只能碰一次电脑的我简直是噩梦，所以我还是用的最老版本的py版ss，至今已至少连续2，3年稳定运行在我的搬瓦工备用服务器上未发生任何问题，可见其稳定性））。<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;在clowwindy被请喝茶后，V2Ray诞生了，V2Ray隶属于Project V，是作为Project V的核心工具，而其核心协议便是VMess，简单来说，SS就是一把简单的小刀，可以划破GFW的高墙让你访问互联网，而V2Ray则是瑞士军刀，它可以以各种方式给GFW开一道口，所以优缺点很明显：SS虽然简单部署以及使用，但是功能单一；V2Ray复杂难用，但是功能强大。<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;至于其他的包括XX-NET（基于GoAgent），AnyConnect，在此不多介绍，需要的可以去网上了解了解。<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;在这不得不说两句，如果用别人的其实协议没必要怎么讲究，只要能让你在各个平台用而且能轻轻松松看YouTube 8K就行了，但是如果你自己用，在通信方面就需要注意点了，以目前的情况可知：SS的流量是可以被分析并探测的。说来也是，SS本来就是为了让GFW看不出来你用的是啥协议，通过这种方法来混淆视听以避开墙，但是问题也很明显：TMD别人都是什么HTTP这样的流量为啥就你这么的特别？？？所以，就有了另外一种“特洛伊木马式”的翻墙方法（说起来还真有个叫特洛伊的翻墙工具：<a href=\"https://github.com/trojan-gfw/trojan\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/trojan-gfw/trojan</a>），在初期SS通过使用混淆插件来将流量伪装成各种各样的服务（上网站，下BT，微信视频），之后像V2Ray这种直接可以使用完整的HTTP1.1/2（服务器内部nginx都能直接转发，伪装网站技能get），所以最后我们使用V2Ray来建一个服务器（啥，你想上来就搞伪装网站这样的操作？你这么大步子小心扯到蛋啊兄弟）<br>\n<br>\n<br>\n<br>\n2.如何选择翻墙服务：<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 对于那些只希望看看Twitter逛逛YouTube的同学，当然是花钱买现成的好，除了一些老牌的VPN厂商，现在越来越多的私人机场（提供翻墙服务的称为机场）也利用ss和v2ray露了出来(有的还专门再给你套个壳做个客户端让你觉得十分高大上)，一些老牌VPN场还好，对于小机场，不稳定因素太多（卖机位是违法的，会被请喝茶的哦），跑路的也不在少数，所以建议还是几个人一起合资建一个服务器大家一起用（一般5$/月的VPS流量都是1TB/月你用得完？），如果你实在懒得建，我建议去搬瓦工自家开的JustMySocks（简称JMS，地址：<a href=\"https://justmysocks.net/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://justmysocks.net</a>，国内用地址：<a href=\"https://justmysocks1.net/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://justmysocks1.net</a>）买个套餐，这家有以下几个优点：<br>\n<br>\n①.大厂后盾，不用担心突然跑路<br>\n②.全线CN2，访问速度有保证<br>\n③.SS协议，Windows，安卓，iOS全平台客户端都很完善<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 你或许想问第2点里的CN2是什么，这也是你在外面买机场以及建站需要注意的，简而言之你服务器在外国（例如美国），那么你的数据就需要走海底光缆到美国才行，问题是海底光缆就那么点，现在家家户户百兆起步，怎么可能给你够用，所以就有了区别对待，简而言之CN2就是一条比较新的线路，比较新那当然NB啊，问题是给谁用呢？所以不是全部去美国的数据都走的CN2，有一部分是走的163（也就是CN1），所以，即使你服务器在美国是1Gbps对称带宽，但是线路走的是163，那么你有可能会心态爆炸（你或许会问这么NB的CN2会给我这种家庭用户用吗？这就要看你的ISP了，有的时候还会出现上下行一个CN2一个163的情况，所以自己折腾是十分蛋疼的）。<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 所以，选择翻墙服务因该注意以下几点：<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 1.靠谱的机场，不会突然带着小姨子跑路<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 2.优质的线路，不会给你慢到怀疑人生（能试用就试用，没必要跑测速什么的直接YouTube 8K视频能看就OK了）<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 3.拥有全平台客户端支持（只能电脑用手机用不了，或者手机上不支持分应用代理不予考虑，我这种梯子全设备24小时在线的可不想开开关关梯子（网易云音乐等软件在境外用不了，所以需要分应用代理）<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 之后，选个自己适合的套餐即可（如果几个人用可以一起买个大流量不限设备的套餐），贵的不一定好，但是便宜绝对没好货（目前5$/月服务器常见流量为1TB/月，所以你可以自己算一下那些便宜的到底靠谱不靠）<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;在这里推荐一些客户端：<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;Windows:<br>\nShadowsocks Windows（只支持SS）：<a href=\"https://github.com/shadowsocks/shadowsocks-windows/releases\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/shadowsocks/shadowsocks-windows/releases</a><br>\nv2rayN（v2ray图形界面，支持SS和VMess）：<a href=\"https://github.com/2dust/v2rayN/releases\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/2dust/v2rayN/releases</a><br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;Android：<br>\nShadowsocks-android（只支持SS）：<a href=\"https://github.com/shadowsocks/shadowsocks-android/releases\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/shadowsocks/shadowsocks-android/releases</a><br>\nV2RayNG（支持SS和VMess）：<a href=\"https://github.com/2dust/v2rayNG/releases\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/2dust/v2rayNG/releases</a><br>\n<br>\n&nbsp; &nbsp;&nbsp;&nbsp;iOS:<br>\n我上一台苹果设备是iPad2，这里只放一个别人说的软件<br>\nKitsunebi（支持SS和VMess）：<a href=\"https://apps.apple.com/us/app/kitsunebi-proxy-utility/id1446584073\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://apps.apple.com/us/app/ki ... tility/id1446584073</a><br>\n<br>\n&nbsp; &nbsp;&nbsp;&nbsp;Mac：<br>\n没用过Mac，你可以问Google<br>\n<br>\n&nbsp; &nbsp;&nbsp;&nbsp;Linux：<br>\n<br>\n....................................................................................................<br>\n<br>\n<br>\n3.自己搭一台服务器（新增：最简单的Shadowsocks服务器搭建方法）：<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp; 原本只写了V2Ray的搭建方法，但是考虑了一下可能很多人还是觉得V2Ray麻烦并且应用环境还不够（上次官方更新都把版本号弄错了我也是蒙了），所以在这里送上（我都已经忘了的）SS服务器搭建方法：Outline<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;Outline（<a href=\"https://getoutline.org/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://getoutline.org</a>）是什么？这个是基于SS开发的，“由 Jigsaw 创立的开放源代码项目“，那么Jigsaw是啥？这个是Google创建的技术孵化器，其“致力于理解来自“反极端主义”（countering extremism）、在线审查和网络攻击等全球性挑战，并应用技术解决方案来保护信息的获取“，说了呢么多，其实是Google旗下的东西，所以安全性还是有保障的。<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;首先，你需要一张银行卡（貌似DigitalOcean支持银联，MasterCard或者VISA为佳）或者一个绑定了银联卡的PayPal（只要你能用支付宝就能注册PAyPal），之后我们先去DigitalOcean注册一个账号（注册链接：<a href=\"https://m.do.co/c/056cc9939e1e\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://m.do.co/c/056cc9939e1e</a>）（这是我的邀请链接，你要不愿意用也可以直接访问），注意：注册时建议不要挂代理，然后国家选中国，否则可能会判定为欺诈注册。<br>\n<br>\n&nbsp; &nbsp;&nbsp; &nbsp;注册完成后，我们去Outline官网（翻墙）下载Outline管理器：<a href=\"https://getoutline.org/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://getoutline.org</a>，安装完成后运行，你可以看到这个界面：<br>\n<a href=\"http://images2.imagebam.com/2b/1c/ef/8babf01258759154.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/2b/1c/ef/8babf01258759154.PNG</a><br>\n这个就是Outline的管理程序，我们选择DigitalOcean下面的SET UP<br>\n<br>\n点击SET UP后，会跳转到浏览器（此时不建议开代理翻墙，建议在点击SET UP前就关闭代理），我们可以看到如下界面（如果显示要登陆，则先登陆即可）：<br>\n<a href=\"http://images2.imagebam.com/4b/fd/15/e1eb391258759194.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/4b/fd/15/e1eb391258759194.PNG</a><br>\n在画圆圈的地方打勾，然后点击箭头所指的地方，即可完成授权并绑定Digital Ocean账号<br>\n<br>\n之后你会看到一个授权成功的页面，此时Outline管理器已经准备就绪，并会显示这样的界面：<br>\n<a href=\"http://images2.imagebam.com/56/ab/28/1d95b71258759234.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/56/ab/28/1d95b71258759234.PNG</a><br>\n这个当然就是让你选服务器机房的位置啦，选一个你喜欢的位置（如果选美国则选择西海岸的城市），之后点击右上角的SET UP OUTLINE<br>\n<br>\n接下来就是等待建立服务器（注意，如果长时间建立后失败，恭喜你，你被随机到了一个被GFW Ban了的废IP，登陆Digital Ocean手动删除服务器，然后回到Outline管理器再建一个（其实我也不知道现在对于这个情况Outline那边有没有增加什么处理措施，反正发生了就这么做就对了，不然挂个服务器在那浪费钱）（没错，我以前第一次用就碰到过））<br>\n<a href=\"http://images2.imagebam.com/1e/ee/40/1d66821258759274.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/1e/ee/40/1d66821258759274.PNG</a><br>\n<br>\n在等待过后，如果服务器成功建立，你会看到这样一个界面：<br>\n<a href=\"http://images2.imagebam.com/46/80/67/f2b1ca1258759304.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/46/80/67/f2b1ca1258759304.PNG</a><br>\n点击画红圈的部分<br>\n<br>\n之后过会弹出个窗口，选择“连接此设备”，之后你就会看到一个看起来跟脸滚键盘一样的由ss://开头的东西，复制他<br>\n<a href=\"http://images2.imagebam.com/d9/69/a2/8c86c11258759354.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/d9/69/a2/8c86c11258759354.PNG</a><br>\n<br>\n复制完成后，随便找个SS客户端（你也可以直接用Outline的），用URL导入配置功能即可使用（例如这个SS的Windows客户端：<a href=\"https://github.com/shadowsocks/shadowsocks-windows/releases\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/shadowsocks/shadowsocks-windows/releases</a>）<br>\n<br>\n..............................................................................................................<br>\n<br>\n<br>\n<b>接下来是V2Ray的部署：</b><br>\n<br>\n<br>\n这里我教你入门，剩下的自己慢慢摸索就行了<br>\n<br>\n需要准备的东西：一个ssh客户端（推荐用putty：<a href=\"https://www.putty.org/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://www.putty.org/</a>，我用的Xshell），一个可以买买买的支付宝或者微信<br>\n<br>\n1.去Vultr（<a href=\"https://www.vultr.com/?ref=7118798\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://www.vultr.com/?ref=7118798</a>）（这是我的邀请链接，你要不愿意用也可以直接访问）（为啥没搬瓦工？因为搬瓦工便宜的服务器太抢手我估摸着你买不到，不如就去这家先搞一台5$/月的服务器玩一玩）注册一个账号，在这里我们用Vultr，因为这家支持支付宝和微信（我才发现支持支付宝和微信，以前全是PayPal），注意：注册时建议不要挂代理，然后国家选中国，否则可能会判定为欺诈注册。<br>\n<br>\n2.注册完成后，可见如下界面<br>\n<a href=\"http://images2.imagebam.com/65/00/59/5c5b371257653754.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/65/00/59/5c5b371257653754.PNG</a><br>\n①为充值，点进去选一个你喜欢的方式给里面充5$就行了，充完后，点击②的那个加号开始建服务器。<br>\n<br>\n点开加号后可见到如下界面（服务器建立界面）<br>\n<a href=\"http://images2.imagebam.com/14/45/c4/6545241257653804.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/14/45/c4/6545241257653804.PNG</a><br>\n首先看见的就是选择服务器类型，我没选择画圈的第一个就可以了<br>\n<br>\n之后向下翻，你可以看见这个：<br>\n<a href=\"http://images2.imagebam.com/63/50/71/1fda5f1257653854.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/63/50/71/1fda5f1257653854.PNG</a><br>\n这个是服务器机房位置的选择，看你自己<br>\n<br>\n再向下翻，可以看见这个：<br>\n<a href=\"http://images2.imagebam.com/23/61/4b/dc39f51257653914.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/23/61/4b/dc39f51257653914.PNG</a><br>\n这个是服务器系统选择，看你自己觉得哪个用的顺手就用那个，这里随便选个Ubuntu<br>\n<br>\n继续向下翻，你可以看见这个：<br>\n<a href=\"http://images2.imagebam.com/d2/94/2e/45c9261257654014.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/d2/94/2e/45c9261257654014.PNG</a><br>\n一看就知道是干什么的，选最便宜的就行了，贵的用不上<br>\n<br>\n这些都选好后，点击右下角的Deploy Now就行了（其他选项自己研究，这里不再赘述）<br>\n<br>\n点击Deploy Now之后，你就会返回主页，然后看见这个：<br>\n<a href=\"http://images2.imagebam.com/c6/87/8e/e3187c1257654054.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/c6/87/8e/e3187c1257654054.PNG</a><br>\n当右边变成绿色的Running后，再等1分钟左右，点击Cloud Instance，即可打开服务器的控制面板<br>\n<br>\n这就是控制面板：<br>\n<a href=\"http://images2.imagebam.com/ef/90/a1/83ca191257654134.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/ef/90/a1/83ca191257654134.PNG</a><br>\n我们需要复制控制面板上的IP地址，打开电脑上的CMD来进行测试，以防被分配到一个已经被GFW ban了的IP<br>\n<br>\n打开CMD后输入：“ping 你的IP地址”<br>\n<a href=\"http://images2.imagebam.com/70/1d/56/b6f0c31257654184.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/70/1d/56/b6f0c31257654184.PNG</a><br>\n结果如果如图，恭喜你，服务器是能用的<br>\n（细心的你或许发现了，这个IP和刚才打马赛克的IP不一样，没错，第一台服务器就被分到了一个被Ban的IP）<br>\n如果结果是ping不通，那么直接点控制面板右上角的垃圾桶标志删除服务器，再建一台。<br>\n<br>\n之后，我们复制服务器的IP地址，打开Putty，输入IP地址：<br>\n<a href=\"http://images2.imagebam.com/6d/4b/04/a9c8741257654244.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/6d/4b/04/a9c8741257654244.PNG</a><br>\n之后点击Open，即可开始连接我们的服务器<br>\n第一次连接，会弹出一个窗口，此时选择“是”即可<br>\n<br>\n联通后，可见下图：<br>\n<a href=\"http://images2.imagebam.com/09/ed/34/e718661257654274.PNG\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/09/ed/34/e718661257654274.PNG</a><br>\nLogin as：后面输入root，按回车，之后会让你输入密码，此时我们回答服务器控制面板，点击密码的复制按钮，即可复制密码<br>\n回到界面，注意，在这里，粘贴键是鼠标右键！并且输入的密码不会显示出来，不是你电脑坏了，这玩意不会给你显示***，他直接不显示你输入的字符<br>\n<br>\n之后，我们就连上了服务器（这儿就不截图了，连上没我想你应该看得出来）<br>\n<br>\n之后，复制粘贴以下红字内容，并在粘贴后按下回车：<br>\n<br>\napt-get update<br>\n<br>\n在一堆东西闪过后，你会看到root@vultr:~#又出现了，此时我们再复制粘贴以下红字内容，并在粘贴后按下回车：<br>\n<br>\napt-get upgrade<br>\n<br>\n跑一会后，他会停下来问你 YES/NO 输入y即可（如果他没问，当我没说）<br>\n<br>\n等一小会，结束后root@vultr:~#又会出现，此时你再复制粘贴以下红字内容，并在粘贴后按下回车：<br>\n<br>\nreboot<br>\n<br>\n然后你服务器就重启了，过十几秒你再连上去即可<br>\n<br>\n再次连上后，我们这里用<a href=\"https://github.com/Jrohy/multi-v2ray\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/Jrohy/multi-v2ray</a>的一键部署脚本（我打字打累了，懒了（逃<br>\n<br>\n复制粘贴以下红字内容，并在粘贴后按下回车：<br>\n<br>\nsource &lt;(curl -sL&nbsp;<a href=\"https://git.io/fNgqx\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://git.io/fNgqx</a>) --zh<br>\n<br>\n然后你就可以看见一堆玩意跑过去，等到最后你会看见这样的界面：<br>\n<a href=\"http://images2.imagebam.com/18/18/78/f366991257693734.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">http://images2.imagebam.com/18/18/78/f366991257693734.png</a><br>\n恭喜你，你的服务器配置好了，现在你有了一台最基础的VMess服务器，复制图片里那一堆绿色的乱码（你要是喜欢手输或者一条一条复制也行）<br>\n（啥，你想按图片里的连上去，我怎么可能用他的默认配置？）<br>\n<br>\n接下来，我们去这个页面下载一个Windows平台的客户端：<a href=\"https://github.com/2dust/v2rayN/releases\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://github.com/2dust/v2rayN/releases</a><br>\n<br>\n下载下来解压到文件夹里面，运行v2rayN.exe，之后你的屏幕右下角托盘内会出现一个和v2rayN.exe一样的小图标，右键他，选择“从剪贴板批量导入URL，之后选择上面的“启动HTTP代理”就能用了","date":"2019-06-26","agreeCount":3,"discussionCount":0}