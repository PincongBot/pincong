{"type":"article","id":2679,"title":"新手上路, 如何在本地搭建品葱","uid":8154,"topics":[],"contents":"参考:https://pincong.rocks/article/684<br>\n<br>\n因为我只会掉几个python包, 啥都不懂, 这两天研究了下怎么上路在本地搭建起网站. <br>\n大家都是大佬, 但可能也有像我一样的新手, 我就记录一下, 方便后来人, 也欢迎指正.<br>\n<br>\n我是学习着用docker的, 感觉也不难入门, 比较方便. 先在本地安装好docker就不说了.<br>\n然后去这里:<br>\nhttps://hub.docker.com/r/xmader/pincong-wecenter<br>\n<br>\ndocker pull xmader/pincong-wecenter<br>\n然后新建立一个文件夹,我建的是pindocker, cd进去之后:<br>\n<pre>docker run -d \\<br>\n&nbsp; --name pincong-wecenter \\<br>\n&nbsp; -p 80:80 \\<br>\n&nbsp; -v $PWD/sql:/var/lib/mysql \\<br>\n&nbsp; -v $PWD/logs:/data/logs \\<br>\n&nbsp; -v $PWD/www:/data/htdocs \\<br>\n&nbsp; xmader/pincong-wecenter</pre><br>\n这时候等待几秒, 浏览器127.0.0.1:80就有登陆界面了.<br>\n<br>\n这时候还不能用两个admin登陆, 根据那个最上面的参考链接, 要以下几步, 但因为有docker已经不用这么做了.<br>\n<br>\n<s>git&nbsp;clone --depth=1&nbsp;https://github.com/pincong/pincong-wecenter.git</s><br>\n<br>\n[li]<s>复制&nbsp;system/config.inc.php.sample.php 至 system/config.inc.php</s>[/li]<br>\n[li]<s>编辑 system/config.inc.php 修改加密 KEY, 填入随机字符串</s>[/li]<br>\n[li]<s>复制&nbsp;system/config/database.php.sample.php 至&nbsp;system/config/database.php</s>[/li]<br>\n[li](不太清楚, 我没管这一步)编辑 system/config/database.php 与你的 mysql 相对应[/li]<br>\n[li]先后导入&nbsp;install/db/tables.sql,&nbsp;&nbsp;install/db/settings.sql 至 mysql:[/li]<br>\n<br>\n先看看这两个文件在哪, 找了找找到了, 查看一下路径如下:<br>\n/data/htdocs/install/db/tables.sql<br>\n<br>\ndocker ps, 发现80端口, 3306应该是sql的<br>\n进入docker里的命令行:<br>\nsudo docker exec -it pincong-wecenter bash<br>\n连接数据库<br>\nmysql -h 127.0.0.1 -P 3306<br>\n进入之后看一看<br>\nshow databases;<br>\nuse db<br>\n然后导入那两个文件<br>\nsource /data/htdocs/install/db/tables.sql<br>\nsource /data/htdocs/install/db/settings.sql<br>\n<br>\n刷新下网页, 用两个admin这下可以登陆了<br>\n上去发现是一个人的品葱, 有点孤单哈哈.<br>\n<br>\n希望能帮到大家哈.","date":"2019-07-29","agreeCount":4,"discussionCount":0}