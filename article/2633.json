{"type":"article","id":2633,"title":"【High Priority】问题/回答下评论赞/踩功能","uid":8132,"topics":[1923],"contents":"<a href=\"https://github.com/orgs/pin-cong/teams/pincong-developer-committee/discussions/3\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">Original_Link</a><br>\n<b><i>This discussion concerns the function &quot;问题/回答下评论赞/踩功能&quot;, for any discussion related to this, please follow up under this thread.</i></b><br>\n<b>The whole discussion was written in English for developers convenience. For Chinese accessibility, please use&nbsp;<a href=\"https://translate.google.com/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">Google translate</a>.</b><br>\n[s]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[/s]<br>\n<b>中文描述：目前问题/回答下的评论没有赞踩功能，也无法折叠，本功能实现它的赞踩和折叠。</b><br>\n[s]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[/s]<br>\n<b>Before starting</b>:<br>\n<ol><br>\n<li>Read &quot;<a href=\"https://github.com/pincong/pincong-wecenter/blob/master/models/vote.php\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">pincong-wecenter-master/models/vote.php</a>&quot; understand how voting was written for other functions (e.g.., question, answer, article, article comment, etc).</li><br>\n<li>Read the table structure of &quot;aws_article&quot; and &quot;aws_article_comment&quot;, see how &quot;agree_count&quot; works.</li><br>\n<li>Read &quot;<a href=\"https://github.com/pincong/pincong-wecenter/blob/master/views/default/article/ajax/comment.tpl.htm\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">pincong-wecenter-master/views/default/article/ajax/comment.tpl.htm</a>&quot;, see how &quot;agree&quot; and &quot;disagree&quot; buttons were added and how the submission was sent.</li><br>\n</ol><br>\n[s]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[/s]<br>\n<b>TODO List (Database Table):</b><br>\nAdd a new column to the table &quot;aws_answer_comments&quot; and &quot;aws_question_comments&quot;, named &quot;agree_count&quot;. Possibly we need to duplicate these two tables, depending on whether simplying adding a new column would be compatible with the exsiting code or not (<b>will test later</b>).<br>\n[s]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[/s]<br>\n<b>TODO List (PHP Code):</b><br>\n[<a href=\"https://github.com/pincong/pincong-wecenter/blob/master/models/vote.php\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">pincong-wecenter-master/models/vote.php</a>]<br>\n<ul><br>\nEdit function process_currency_agree() and process_currency_disagree(). We possibly also need to edit agree() and disagree(), depending on the comptability. The type name should be the same for the table name, i.e., answer_comments and question_comments.</ul><br>\n<b>[s]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[/s]<br>\n</b><b>TODO List (HTML/JS Code):</b><br>\n[<a href=\"https://github.com/pincong/pincong-wecenter/blob/master/views/default/question/ajax/comments.tpl.htm\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">pincong-wecenter-master/views/default/question/ajax/comment.tpl.htm</a>]<br>\n<ol><br>\nAdd &quot;agree&quot; and &quot;disagree&quot; button for each comment and its corresponding ajax submission. (see the one for article as an example)</ol><br>\n<b>[s]&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;[/s]<br>\n</b>Please post any question you may have. We probably will encouter more issues while editing. Don't hesitate to follow up your problems. Thanks and happy programming!","date":"2019-07-27","agreeCount":1,"discussionCount":0}