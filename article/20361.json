{"type":"article","id":20361,"title":"玩了会儿Tampermonkey，不幸将膜乎注册页的元首头像加在了度娘logo上 😂","uid":8647,"topics":[4039],"contents":"需要安装Tampermonkey浏览器扩展（不在这里科普如何安装了，网上可找到许多教程），然后将下面的代码添加到dashboard的用户脚本（installed userscripts）里面（参阅<a href=\"https://hibbard.eu/tampermonkey-tutorial/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">Tampermonkey Tutorial</a>及其他教程）。<br>\n<br>\n代码一次性发品葱会报错，只能分三部分发了。<br>\n<br>\n可以调节每个setInterval函数最后一行的那第二个参数（即毫秒数字）来配合浏览器加载网页的速度。另外，此代码将度娘的每日热点给屏蔽了。若想显示，可删除函数searchPage里的头一个t函数声明，还有紧接着函数searchPage下面的if语句里的头4行代码（即声明并赋值deleteElement1和其后的if语句），还有之后的document.getElementById(\"lg\").removeChild语句即可。<br>\n<br>\n望此代码十里山路不换肩。<br>\n<br>\n将Tampermonkey的代码改两处，分别是name和match的参数。<br>\n<pre>// ==UserScript==<br>\n// @name&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; Mr. Shithole<br>\n// @namespace&nbsp; &nbsp; http://tampermonkey.net/<br>\n// @version&nbsp; &nbsp; &nbsp; 0.1<br>\n// @description&nbsp; try to take over the world!<br>\n// @author&nbsp; &nbsp; &nbsp;&nbsp; You<br>\n// @match&nbsp; &nbsp; &nbsp; &nbsp; https://www.baidu.com/*<br>\n// @grant&nbsp; &nbsp; &nbsp; &nbsp; none<br>\n// ==/UserScript==</pre><br>\n在// Your code here...后录入的代码（第一部分）。<br>\n<pre>&nbsp; &nbsp; &nbsp; var searchPage = function() {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; var t = setInterval(function() {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; var deleteElement2 = document.getElementById('content_right');<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (deleteElement2) {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; deleteElement2.parentNode.removeChild(deleteElement2);<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clearInterval(t);<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; }, 0);<br>\n&nbsp; &nbsp; &nbsp; &nbsp; var int = setInterval(function() {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (document.getElementById(\"su\").value = \"百度一下\") {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById(\"su\").value = \"一鍵禁評\";<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (document.getElementById(\"result_logo\").firstChild.src != \"https://i.postimg.cc/nrsMm4n2/title-Result1.png\") {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;  &nbsp;&nbsp; document.getElementById(\"result_logo\").firstChild.src = \"https://i.postimg.cc/nrsMm4n2/title-Result1.png\";<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (document.getElementsByTagName(\"title\")[0].innerHTML.indexOf(\"百度搜索\")) {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementsByTagName(\"title\")[0].innerHTML = document.getElementsByTagName(\"title\")[0].innerHTML.replace(/百度搜索/, \"禁評搜索\");<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if (document.getElementById(\"su\").value == \"一鍵禁評\" &amp;&amp;<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementById(\"result_logo\").firstChild.src == \"https://i.postimg.cc/nrsMm4n2/title-Result1.png\" &amp;&amp;<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; document.getElementsByTagName(\"title\")[0].innerHTML.indexOf(\"禁評搜索\")) {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; clearInterval(int);<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; &nbsp; &nbsp; }, 800);<br>\n&nbsp; &nbsp; &nbsp; &nbsp; document.getElementById(\"form\").onsubmit = searchPage;<br>\n&nbsp; &nbsp; }</pre>","date":"2020-06-13","agreeCount":0,"discussionCount":0}