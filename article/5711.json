{"type":"article","id":5711,"title":"【pre-RFC-115】新品葱提供一个为极端恶劣网络环境优化设计的版本","uid":14048,"topics":[2411,937],"contents":"<b>变更内容</b>：优化版本去除一切跟主要信息无关的内容, 比如没有任何头像, 图标或remote font,css,js等无用数据的传输,只传输必要的html页面数据, html本身结构也要精简, 帖子内的图片只以文本链接形式呈现.当然如果能保持精简的前提下也可以考虑加上发回帖的功能.<br>\n<b>变更理由</b>：翻墙困难时期网络环境极度恶劣, 网速差不多几百字节每秒, 稍微多传输一点就会被掐断连接, 打开新品葱页面时帖子本身的内容只占有很小一部分, 大部分流量和时间都耗费在用户头像, css, js等这种和帖子无直接关系的事情上, 就算用curl直接抓取, html本身也有一堆跟帖子内容无直接关系的代码, 而且curl就算抓取的时候带上header还是有很大概率抓取到验证码页面.<br>\n<b>讨论时间</b>：默认值<br>\n<b>变更步骤</b>：针对GFW造成的恶劣网络环境优化页面加载, 同样数据量传输呈现更多有意义信息","date":"2019-09-29","agreeCount":6,"discussionCount":0}