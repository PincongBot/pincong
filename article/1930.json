{"type":"article","id":1930,"title":"厉害了我的国！中国电信BGP劫持欧洲网络长达2小时","uid":271,"topics":[249,1117,134],"contents":"原文：<a href=\"https://arstechnica.com/information-technology/2019/06/bgp-mishap-sends-european-mobile-traffic-through-china-telecom-for-2-hours/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://arstechnica.com/information-technology/2019/06/bgp-mishap-sends-european-mobile-traffic-through-china-telecom-for-2-hours/</a><br>\n科普一下：<br>\n<b>什么是BGP？</b><br>\nBGP指的是Border Gateway Protocol，中文称作“<a href=\"https://zh.wikipedia.org/wiki/%E8%BE%B9%E7%95%8C%E7%BD%91%E5%85%B3%E5%8D%8F%E8%AE%AE\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">边界网关协议</a>”，运营商之间使用BGP协议确定数据包传输的路径。<br>\n<b>什么是BGP劫持？</b><br>\n由于BGP协议本身比较古老，默认没有安全防护。近几年来虽然添加了防护措施，但目前尚未推广，BGP协议本身灵活性也大，所以动辄有劫持事件发生，不过大多数的劫持都是由于配置错误引起的，一般在较短时间内（通常半小时）恢复。<br>\n<b>BGP劫持有什么危害？</b><br>\nBGP劫持通常会导致网络中断（巴基斯坦电信错误路由<a href=\"https://www.cnet.com/news/how-pakistan-knocked-youtube-offline-and-how-to-make-sure-it-never-happens-again/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">导致YouTube下线</a>），但某些情况下会导致数据包被发送到不正确的地方。如果运营商愿意，可以记录数据包内容，并尝试解密。<br>\n比如说中国电信可以劫持别人网络，把数据包导向自己（中国电信不是头一次干这种事了），然后理论上可以尝试中间人攻击，解密数据包内容。<u>不过由于太容易发现，此法不会经常使用。</u><br>\n<b>如何防止BGP劫持？</b><br>\n个人用户无法防止BGP劫持，因为BGP广播是运营商的事，只有运营商可以过滤恶意的BGP数据，或进行数字签名认证来防止BGP劫持。<br>\n但是，个人用户可以防止隐私泄露。目前，大多数网站都使用HTTPS，可以防止中间人攻击。不过，有少数网站HTTPS没有正确配置，仍然存在被中间人攻击的可能。<br>\n大多数非国产聊天工具都有加密并防止中间人攻击。<br>\nDNS协议也是一个弱点，近年来，使用加密DNS的呼声越来越高，部分浏览器支持了DNS-over-HTTPS和DNS-over-TLS。<br>\n只要你的通信协议设计没问题，此类攻击就无法得逞。","date":"2019-06-09","agreeCount":6,"discussionCount":0}