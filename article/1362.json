{"type":"article","id":1362,"title":"PincongFilter 2.0","uid":4719,"topics":[118],"contents":"<a href=\"https://pincong.rocks/article/1358\">原始 连接</a><br>\n用正则表达式过滤不想看到的用户名的回答，文章评论和首页提问，首页文章，自动修正回答与评论数量。至于问题下面的评论，我认为不该隐藏，一般都是有回复的，而且在你打开评论前，不知道里面到底有多少个不应过滤的评论，想象一下你打开一个评论，然后发现是空的。<br>\n<br>\n本来打算放在pastebin的，想想还是算了……<br>\n不接受来自浏览器兼容性的bug report。<br>\n<br>\nP.S. 当然网站后台想要封杀这个脚本并不容易。<br>\n<br>\n<pre><br>\n(function(l){<br>\n&nbsp; &nbsp; // 文章评论 or 回答<br>\n&nbsp; &nbsp; inArray = (s, l) =&gt; l.some(v =&gt; v.test(s));<br>\n&nbsp; &nbsp; $('.aw-user-img').each(function () {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; if (inArray(decodeURIComponent(this.href.split('/')[4]), l)) {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $(this).closest('.aw-item').remove();<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $(&quot;h2:contains('个回复')&quot;).text(parseInt($(&quot;h2:contains('个回复')&quot;).text()) - 1 + &quot; 个回复&quot;);<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $(&quot;h2:contains('个评论')&quot;).text(parseInt($(&quot;h2:contains('个评论')&quot;).text()) - 1 + &quot; 个评论&quot;);<br>\n&nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; })<br>\n&nbsp; &nbsp; // 首页发表的文章 or 发起的问题<br>\n&nbsp; &nbsp; $('.aw-item').find('a:first').each(function () {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; if (inArray(decodeURIComponent(this.href.split('/')[4]), l)) {<br>\n&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; $(this).closest('.aw-item').remove();<br>\n&nbsp; &nbsp; &nbsp; &nbsp; }<br>\n&nbsp; &nbsp; })<br>\n})([/用爱心说诚实话/, /^支那/])</pre>","date":"2019-04-26","agreeCount":-1,"discussionCount":0}