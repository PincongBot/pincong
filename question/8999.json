{"type":"question","id":8999,"title":"如何直接抓取本站页面?","uid":13985,"topics":[406],"contents":"直接用curl挂上Tor代理抓取本站页面会提示验证码, 但Tor Browser正常.<br>\n为什么这么做? 因为翻墙困难时期感觉品葱页面上的头像图标之类加载太过费时甚至导致加载失败<br>\n这是根据Tor Browser获取的header写的抓取脚本(注意如果Tor Browser运行时访问过品葱之后又用curl会被CloudFlare当作正常浏览器,即使后面用的是curl):<br>\n<pre>curl -v -x 'socks5h://127.0.0.1:9150' \\\\<br>\n-H 'Host: pincong.rocks' \\\\<br>\n-H 'User-Agent: Mozilla/5.0 (Windows NT 6.1; rv:60.0) Gecko/20100101 Firefox/60.0' \\\\<br>\n-H 'Accept: text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8' \\\\<br>\n-H 'Accept-Language: en-US,en;q=0.5' \\\\<br>\n-H 'Accept-Encoding: gzip, deflate, br' \\\\<br>\n-H 'Connection: keep-alive' \\\\<br>\n-H 'Upgrade-Insecure-Requests: 1' \\\\<br>\n-H 'Pragma: no-cache' \\\\<br>\n-H 'Cache-Control: no-cache' \\\\<br>\n'https://pincong.rocks/' |<br>\nbrotli -c -d</pre>","date":"2019-09-27","agreeCount":1,"discussionCount":0}