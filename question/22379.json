{"type":"question","id":22379,"title":"为何美国疫情严重的州都是民主党的地盘？","uid":7551,"topics":[3112],"contents":"近日美国疫情泛滥，闲在家里隔离无视，简单的研究了一下疫情数据，却发现一个有趣的现象：感染死亡数美国前列的，几乎都是民主党的地盘。<br>\n并且，排行榜前列的几乎都是民主党大比分领先，接下来是双方势均力敌的，最后的都是共和党大幅领先的。<br>\n<br>\n研究方法是从<a href=\"https://en.wikipedia.org/wiki/Political_party_strength_in_U.S._states\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">维基百科</a>获得每个州的民调数据（表格中的最后一列），然后用简单的脚本处理疫情数据的表格，属于民主党的就涂红，属于共和党的就涂蓝。制作出来的图标如下图。<br>\n<br>\n疫情和选票方向，这两者之间有什么关联性吗？<br>\n<br>\n<a href=\"https://i.imgur.com/U5mJoQV.png\" rel=\"nofollow noreferrer noopener\" target=\"_blank\"><img src=\"https://i.imgur.com/U5mJoQV.png\" alt=\"https://i.imgur.com/U5mJoQV.png\" style=\"max-width:100%\"></a><br>\n<br>\n参考资料：<br>\n民调数据：<a href=\"https://en.wikipedia.org/wiki/Political_party_strength_in_U.S._states\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">Wikipedia</a><br>\n疫情数据：<a href=\"https://www.worldometers.info/coronavirus/country/us/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">worldometer</a><br>\n<br>\n参考代码：<br>\n获取wikipedia的数据：<br>\n<pre>Array.from(document.querySelector(\"table.sortable\").getElementsByTagName(\"tr\")).slice(1).map(row =&gt; {let d=row.getElementsByTagName(\"td\"); return {name: d[0].innerText.toString().trim(), party: (d[8] ? d[8].innerText : d[7].innerText).replace(/\\[.*/g, \"\")}})</pre><br>\n处理疫情数据表格：<br>\n<pre>/* let polData = 之前获得的数据 */<br>\nArray.from(usa_table_countries_today.getElementsByTagName(\"tr\")).slice(1).map(elem =&gt; {<br>\n&nbsp; let d = elem.getElementsByTagName(\"td\");<br>\n&nbsp; let nm = d[0].innerHTML.toString().trim();<br>\n&nbsp; polData.forEach(state =&gt; {<br>\n&nbsp; &nbsp; if(state.name == nm) {<br>\n&nbsp; &nbsp; &nbsp; elem.style.background = {D: \"#fcc\", R:\"#ccf\"}[state.party[0]];<br>\n&nbsp; &nbsp; &nbsp; d[2].innerHTML = state.party.replace(/\\n/g, \"&lt;br&gt;\");<br>\n&nbsp; &nbsp; &nbsp; d[2].style.background = \"inherit\";<br>\n&nbsp; &nbsp; }<br>\n&nbsp; });<br>\n});</pre>","date":"2020-03-31","agreeCount":3,"discussionCount":8}