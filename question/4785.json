{"type":"question","id":4785,"title":"基于 TLS 1.3 的翻墙方法，求指教","uid":5291,"topics":[],"contents":"众所周知，现在shadowsocks流量有被识别、限速的风险，如六月初大批vps被封。<br>\nTLS 1.3 在前几年被提出来，现在已经被广泛采用。<br>\n它的握手是这样的：<br>\n======== TLS 1.3 Handshake ========<br>\n1. Client --&gt; [Supported Ciphers, SNI, Key A, etc] --&gt; Server<br>\nClient 向 Server 发送 ClientHello，并且发送自己要访问的网址（SNI），支持的加密方法列表，秘钥A<br>\n2. Client &lt;-- [Cipher I chose, Key B, Encrypted Signed Cert] --&nbsp;Server<br>\nServer 向 Client 发送自己选用的加密方法，秘钥B，用秘钥A、B 使用Diffe-Hellmen 算法导出的共享秘钥e，使用e加密的服务器证书<br>\n3. Client &lt;--&gt; Server (Communicate using DH derived shared key)<br>\n<br>\nClient 和 Server 之间使用秘钥 e 加密进行通信<br>\n<br>\n=============================<br>\n利用这点：<br>\n翻墙者（Client）和 Server 之间的流量使用预先分享的秘钥 f 进行加密，包装成 TLS 包。在 GFW 看来，这就是 第三步 的普通 TLS 流量。<br>\n为了防止主动探测，对于攻击者构造的正常的其他 TLS 包，返回正常的 TLS 握手错误包（如协议不支持）。","date":"2019-06-09","agreeCount":0,"discussionCount":0}