{"type":"question","id":394,"title":"如何尽可能确保反向代理下的网页安全性","uid":920,"topics":[57,6,451],"contents":"该问题中的本网站及cloudflare反向代理仅为示例，实际内容并不局限于此。<br>\n该问题起源于 <a href=\"https://pincong.rocks/question/370\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://pincong.rocks/question/370</a>&nbsp; 的第二点。目前在综合成本考虑的前提下抵御DDoS攻击方案的确除cloudflare反向代理外很难能找到其他选择，对此表示理解，但反向代理对浏览者与网站间数据传输安全的威胁也是客观存在的。<br>\n那么在维持浏览器-反向代理-网站服务器这样一个传输流程，即不使用其他转发手段例如tor等的前提下，如何尽可能减少浏览器与网站服务器间的传输被反向代理获取的可能性？<br>\n<br>\n首先，由于没有其他转发手段，一些信息必然会被反向代理获取：访问者的ip、被访问网站的域名及ip、双方使用的传输协议。这些信息是否能够由传输双方保护？<br>\n<br>\n而对于网站实际内容，传输双方以明文传输一个最简单的html、css及javascript脚本，脚本除包含网页特效等一般网页所需模块外，还包含一套对称加密的组件及一套公钥加密的组件，那么就可以这样进行这样的传输：浏览器在收到脚本后生成一个随机的私钥，发送对应的公钥并请求服务器的公钥，其他传输内容由发送方用随机密钥进行加密，加密的数据及公钥私钥加密的密钥发送给接收方，也就是类似于在浏览器与服务器间再次创建一个加密通道。这样的传输方式在理论上有什么局限及漏洞？在实际部署上是否具有可行性？","date":"2018-12-08","agreeCount":1,"discussionCount":0}