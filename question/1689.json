{"type":"question","id":1689,"title":"【安全】品葱前端源码采用了JavaScript，理论上可以绕过代理获取真实IP！","uid":595,"topics":[199,249],"contents":"我关闭了浏览器的JavaScript支持，然后登陆品葱，但发现部分功能无法使用，并提示我打开javascript支持。<br>\n<br>\n技术上通过javascript的代码是可以绕过vpn代理获取用户真实IP的。也就是说，如果品葱被黑了的话，黑客插入一些javascript代码就能获取大多数用户的真实信息了！所有的匿名将形同虚设。<br>\n<br>\n个人了解的解决办法有双虚拟机方案，这个可以区编程随想的博客上看，或者直接google。另外还是希望品葱技术管理员能回答一下这个问题怎么解决？或者升级代码放弃javascript？<br>\n<br>\n---<br>\n更新<br>\n<br>\n<a href=\"https://ip.voidsec.com/\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://ip.voidsec.com/</a><br>\n点击上面这个网站，如果发现Web RTC一行下面显示ip的话，那么这个应该就是对应你真是身份的实际ip地址。你的浏览环境应该受到了webRTC漏洞的威胁了。<br>\n<br>\n如果你刚好暂时没有条件上虚拟机+tor这种方案的话，其实一般的浏览器也能做到防范这个问题。下面以safari为例，其他浏览器步骤差不多，需要自己去搜索一下。<br>\n<br>\n1. 打开safari的偏好设置<br>\n2. 在“高级”选项卡的最下面，勾中“在菜单栏中显示‘开发’菜单”<br>\n3. 在菜单栏中点击“开发”菜单<br>\n4. 在WebRTC一项中，去掉“启用旧的Web RTC API”<br>\n5. 在实验性功能中，勾中“Remove legacy Web RTC API”<br>\n<br>\n这时，再去点击上面的网页检查一下你的结果，看看web RTC下面的ip是否消失了。不用版本的设置也不尽相同，只是启发一下大家。<br>\n<br>\n---<br>\n更新<br>\n<br>\n<a href=\"https://thesafety.us/what-is-webrtc#safari-ios\" rel=\"nofollow noreferrer noopener\" target=\"_blank\">https://thesafety.us/what-is-webrtc#safari-ios</a><br>\n这个网站详细介绍了什么WebRTC以及各个平台包括ios端的防范措施。供大家参考。<br>\n<br>\n---<br>\n更新<br>\n<br>\n来自tor在ios端的安全警告：<br>\n<blockquote><b>Security Warning on iOS 11:</b> Users on iOS 11 devices may have their IP address revealed when visiting websites that use WebRTC.<br>\n<b>iOS 12 fixes this bug:</b> please upgrade if you haven't already. <u>For iOS 11 users, the only defense is to disable JavaScript</u> <br>\n<br>\n(The above issue is that WebRTC on iOS 11 always returns real IP addresses -- <u>even if you are using plain Safari over a VPN.</u> This affects all iOS browsers, including Safari and Brave. This is an issue at the iOS level and cannot be bypassed within an app.)</blockquote>","date":"2019-01-29","agreeCount":3,"discussionCount":0}